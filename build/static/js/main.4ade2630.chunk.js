(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},131:function(e,t){},132:function(e,t){},133:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),c=(a(97),a(2)),s=a(1),i=a(5),d=a(3),m=a(4),u=a(10),h=a(40),p=a(15),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return t.payload;case"ADD_USER":return[t.payload].concat(Object(p.a)(e));case"REMOVE_USER":return e.filter(function(e){return e!==t.payload});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUSTOMERS":return t.payload;case"ADD_CUSTOMER":return[t.payload].concat(Object(p.a)(e));case"REMOVE_CUSTOMER":return e.filter(function(e){return e!==t.payload});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRICE_GROUPS":return t.payload;case"ADD_PRICE_GROUP":return[t.payload].concat(Object(p.a)(e));case"REMOVE_PG":return e.filter(function(e){return e!==t.payload});default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRIVERS":return t.payload;case"ADD_DRIVER":return[t.payload].concat(Object(p.a)(e));case"REMOVE_DRIVER":return e.filter(function(e){return e!==t.payload});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROUTES":return t.payload;case"ADD_ROUTE":return[t.payload].concat(Object(p.a)(e));case"REMOVE_ROUTE":return e.filter(function(e){return e!==t.payload});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return t.payload;case"ADD_PRODUCT":return[t.payload].concat(Object(p.a)(e));case"REMOVE_PRODUCT":return e.filter(function(e){return e!==t.payload});default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCT_CATEGORIES":return t.payload;case"ADD_PRODUCT_CATEGORY":return[t.payload].concat(Object(p.a)(e));case"REMOVE_PC":return e.filter(function(e){return e!==t.payload});default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AREAS":return t.payload;case"ADD_AREA":return[t.payload].concat(Object(p.a)(e));case"REMOVE_AREA":return e.filter(function(e){return e!==t.payload});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROLES":return t.payload;case"ADD_ROLE":return[t.payload].concat(Object(p.a)(e));case"REMOVE_ROLE":return e.filter(function(e){return e!==t.payload});default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PERMISSIONS":return t.payload;case"ADD_PERMISSION":return[t.payload].concat(Object(p.a)(e));case"REMOVE_PERMISSION":return e.filter(function(e){return e!==t.payload});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROLES_PERMISSIONS":return t.payload;case"ADD_RP":return[t.payload].concat(Object(p.a)(e));default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUSTOMER_PRICING":return t.payload;case"ADD_CP":return[t.payload].concat(Object(p.a)(e));case"REMOVE_CP":return e.filter(function(e){return e!==t.payload});default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INVENTORY":return t.payload;case"ADD_NEW_INVENTORY":return[t.payload].concat(Object(p.a)(e));case"REMOVE_INVENTORY":return e.filter(function(e){return e!==t.payload});default:return e}},T=Object(h.b)({usersReducer:b,customersReducer:f,PGReducer:E,driversReducer:v,routesReducer:g,productsReducer:y,PCReducer:N,areasReducer:j,rolesReducer:O,permissionsReducer:S,RPReducer:C,CPReducer:x,inventoryReducer:w}),R=Object(h.c)(T);window.store=R;var k,P,F=R,I=(a(102),a(6)),L=a(61),A=a(39),D=(a(43),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).logout=function(){fetch("/logout").then(function(e){return e.json()}).then(function(e){a.refs.logoutButton.style.display="none",a.setState({redirect:!0,route:e.route})}).catch(function(e){return console.log(e)})},a.state={redirect:!1,route:""},a.logout=a.logout.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{style:{paddingTop:"15px"},className:"row m-0 justify-content-around"},r.a.createElement("div",{className:"row col-md-5 p-0 m-0"},r.a.createElement("div",{className:"col align-self-center"},r.a.createElement("h1",{className:"header-title"},"Van Sale"))),this.state.redirect?r.a.createElement(L.a,{to:this.state.route}):null,r.a.createElement("div",{className:"row col-md-5 m-0"},r.a.createElement("div",{className:"col align-self-center  nav"},r.a.createElement(A.a,{to:"/contact"},"Contact")," ",r.a.createElement("code",null,"|"),r.a.createElement(A.a,{to:"/about"},"About us")," ",r.a.createElement("code",null,"|"),r.a.createElement("button",{ref:"logoutButton",id:"logoutButton",onClick:this.logout,type:"button",className:"btn btn-link p-0 m-0",style:{display:"none",color:"#783f04",fontSize:"17px",fontWeight:"700"}},"Log Out ")))))}}]),t}(n.Component)),M=D,V=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"copyright \xa9 2019"))}}]),t}(n.Component),H=V,_=a(79),B=a(45),U=a(9),G=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"About \xa9 2019"))}}]),t}(n.Component),q=G,W=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Contact "))}}]),t}(n.Component),J=W,z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",paddingTop:"".concat(this.props.pt),paddingBottom:"".concat(this.props.pb)},className:this.props.class},r.a.createElement("h1",{className:"header-title"},"404"),r.a.createElement("h3",{style:{color:"#274e13"}},"Oops! Page not found"),r.a.createElement("p",{style:{color:"#783f04"}},r.a.createElement("b",null,"Sorry, but the page you are looking for is not found.")))}}]),t}(n.Component),Y=z,Q=a(11),K=a(8),Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).addADiv=function(e,t,a,n,l){return r.a.createElement("div",{ref:e,className:"col mb-3 "},r.a.createElement(A.a,{to:t},r.a.createElement("button",{className:l},r.a.createElement(Q.a,{icon:a}),r.a.createElement("br",null),n)))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid ",style:{backgroundColor:"#999999",paddingTop:"100px",paddingBottom:"90px"}},r.a.createElement("div",{className:"row justify-content-center homepage"},r.a.createElement("div",{className:"row col-sm-10 row1 pb-3 "},this.addADiv("sales","salesOrReturn/home",K.a,"Sales","rctngl"),this.addADiv("customers","customers/home",K.k,"Customers","rctngl"),this.addADiv("drivers","drivers/home",K.j,"Drivers","rctngl"),this.addADiv("inventory","inventory/home",K.e,"Inventory","rctngl"),this.addADiv("users","users/home",K.k,"Users","rctngl"),this.addADiv("products","products/home",K.d,"Products","rctngl"),this.addADiv("stats","stats",K.c,"Statistics","rctngl"),this.addADiv("areas","areas/home",K.b,"Areas","rctngl"))))}}]),t}(n.Component),$=Z,X=a(81),ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this)))._isMounted=!1,e.state={},e._isMounted=!0,fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement($,null)}}]),t}(n.Component),te=ee,ae=(a(109),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).validateLogin=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.loginForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.handleLogin()},a.handleLogin=function(){var e={method:"POST",body:JSON.stringify({username:a.refs.email.value,password:a.refs.password.value}),headers:{"Content-Type":"application/json"}};fetch("/auth",e).then(function(e){return e.json()}).then(function(e){var t=e.message;"incorrect Password"===t&&(a.refs.password.value="",a.refs.password.focus()),a.refs.loginLabel.innerHTML=t,a.refs.loginBtn.style.marginTop="0px",a.setState({isLoggedIn:!0})}).catch(function(e){return console.log(e)})},a.onChangeLabel=function(){a.refs.loginLabel.innerHTML=""},a.state={isLoggedIn:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?(document.getElementById("logoutButton").style.display="",r.a.createElement(X.a,{to:"/home"})):r.a.createElement("div",{className:"container",style:{textAlign:"center",backgroundColor:"#999999",marginTop:"81px",marginBottom:"81px",paddingTop:"81px",paddingBottom:"81px"}},r.a.createElement("form",{className:"loginForm",ref:"loginForm",onSubmit:this.validateLogin,method:"POST",noValidate:!0},r.a.createElement("h1",{className:"loginHdng"},"Sign In"),r.a.createElement("div",{style:{display:"inline-block"},className:"form-row col-lg-6 m-0 p-0"},r.a.createElement("div",{className:"col form-group"},r.a.createElement("input",{type:"email",onChange:this.onChangeLabel,className:"form-control form-control-lg",ref:"email",placeholder:"Enter email",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please enter a valid email."))),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"inline-block"},className:"form-row col-lg-6 m-0 p-0 "},r.a.createElement("div",{className:"col form-group"},r.a.createElement("input",{type:"password",onChange:this.onChangeLabel,className:"form-control form-control-lg",ref:"password",placeholder:"Password",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please enter password."))),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"inline-block"},className:"form-row  col-lg-5  "},r.a.createElement("label",{className:"loginLabel",ref:"loginLabel",htmlFor:"loginBtn"}),r.a.createElement("button",{type:"submit",id:"loginBtn",ref:"loginBtn",className:"col-sm-12 loginBtn"},"Sign In"))))}}]),t}(n.Component)),ne=ae,re=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!0===this.state.loggedIn?r.a.createElement(X.a,{to:"/home"}):r.a.createElement(ne,null)}}]),t}(n.Component),le=re,oe=(a(110),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchLimitChange=function(e){a.props.onSearchLimitChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"select"},r.a.createElement("option",{value:"name"},"Search By Name"),r.a.createElement("option",{value:"address"},"Search By Address"),r.a.createElement("option",{value:"cell"},"Search By Cell #"),r.a.createElement("option",{value:"email"},"Search By Email"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"search-input",ref:"search",placeholder:"Search Products.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"search-button",icon:K.g}))))))}}]),t}(n.Component)),ce=oe,se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{ref:function(t){e.addCustomer=t},className:"col-md-2.5 mb-2  button-contaner "},r.a.createElement(A.a,{to:"/customers/add"}," ",r.a.createElement("button",null,"Add New Customer")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  button-contaner "},r.a.createElement(A.a,{to:"/customers/import"}," ",r.a.createElement("button",{ref:"importCustomer"},"Import Customers")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  button-contaner "},r.a.createElement(A.a,{to:"/customers/export"}," ",r.a.createElement("button",{ref:"exportCustomer"},"Export Customers")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  button-contaner "},r.a.createElement(A.a,{to:"/priceGroups/home"}," ",r.a.createElement("button",{ref:"priceGroups"},"Price Groups")," "))),r.a.createElement(ce,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),ie=se,de=function(e){return{type:"ADD_CUSTOMER",payload:e}},me=a(150),ue=a(151),he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.areasOptions=function(){return a.state.showAreas?a.state.areas.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}):null},a.routesOptions=function(){if(a.state.showRoutes)return a.state.routes.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})},a.state={areas:"",routes:"",showAreas:!1,showRoutes:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllAreas").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({areas:t.data,showAreas:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({routes:t.data,showRoutes:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"updateCustomer",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.email.value,r=this.refs.cell.value,l=this.refs.address.value,o=this.refs.area.value,c=this.refs.route.value;this.props.updatedb(a,n,r,l,o,c)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Customer")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",defaultValue:this.props.editemail,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Cell"),r.a.createElement("input",{type:"text",className:"form-control",ref:"cell",defaultValue:this.props.editcell,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",defaultValue:this.props.editaddress,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Area"),r.a.createElement("select",{defaultValue:this.props.editarea,ref:"area",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select an Area--"),this.areasOptions())),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Route"),r.a.createElement("br",null),r.a.createElement("select",{defaultValue:this.props.editroute,ref:"route",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Route--"),this.routesOptions()))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateCustomer.bind(this)},"Save")))}}]),t}(n.Component),pe=he,be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[8].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML,u=t.cells[5].innerHTML,h=t.cells[6].innerHTML;a.setState({editId:c,editName:s,editEmail:i,editCell:d,editAddress:m,editArea:u,editRoute:h,modalShow:!0})},a.updatedb=function(e,t,n,r,l,o){var c={id:a.state.editId,name:e,email:t,cell:n,address:r,area:l,route:o},s={method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("/updateCustomer",s).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editArea:"",editRoute:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editArea:"",editRoute:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Ctbl").deleteRow(c);var s={value:a.cells[8].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteCustomer",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_CUSTOMER",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.email,c=a.cell,s=a.address,i=a.area_id,d=a.route_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,d),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.i})),r.a.createElement(pe,{editname:this.state.editName,editemail:this.state.editEmail,editcell:this.state.editCell,editaddress:this.state.editAddress,editarea:this.state.editArea,editroute:this.state.editRoute,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),fe=Object(u.b)()(be),Ee=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.searchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(fe,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md tbl"},r.a.createElement("table",{id:"Ctbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Cell"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Area_ID"),r.a.createElement("th",null,"Route_ID"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),ve=Ee,ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.callTable=function(){return a.state.showTable?r.a.createElement(ve,{searchResults:a.props.customers,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllCustomers").then(function(e){return e.json()}).then(function(t){e.props.dispatch({type:"SET_CUSTOMERS",payload:t.data}),e._isMounted&&e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(ie,{user:this.props.user,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange}),this.callTable())}}]),t}(n.Component),ye=Object(u.b)(function(e){return{customers:e.customersReducer}})(ge),Ne=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this)))._isMounted=!1,e.state={user:"",call:!1},e._isMounted=!0,fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({loggedIn:t.loggedIn,user:t.user,call:!0})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):this.state.call?r.a.createElement(ye,{user:this.state.user}):null}}]),t}(n.Component),je=Ne,Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.handleCustomerRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e=a.refs.name,t=a.refs.email,n=a.refs.cell,r=a.refs.address,l=a.state.selectedAreaValue,o=a.state.selectedRouteValue,c={name:e.value,email:t.value,cell:n.value,address:r.value,area:l,route:o},s={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("/addNewCustomer",s).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;"customer registered successfully"===t?(a.refs.name.value="",a.refs.email.value="",a.refs.cell.value="",a.refs.address.value="",a.setState({selectedRouteValue:"",selectedAreaValue:""})):a.refs.email.focus(),a.props.dispatch(de(e.data)),a.refs.msgLabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.areasOptions=function(){return a.state.showAreas?a.state.areas.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}):null},a.routesOptions=function(){if(a.state.showRoutes)return a.state.routes.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})},a.state={areas:"",showAreas:!1,routes:"",showRoutes:!1,selectedRouteValue:"",selectedAreaValue:""},a.handleAreaChange=a.handleAreaChange.bind(Object(I.a)(Object(I.a)(a))),a.handleRouteChange=a.handleRouteChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllAreas").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({areas:t.data,showAreas:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({routes:t.data,showRoutes:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleRouteChange",value:function(e){this.setState({selectedRouteValue:e.target.value})}},{key:"handleAreaChange",value:function(e){this.setState({selectedAreaValue:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"30px",marginBottom:"30px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newCustomerHdng"},"Customer Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleCustomerRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",pattern:"[0-9a-zA-Z]+",placeholder:"e.g. John",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Only letters and numbers allowed.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",placeholder:"e.g. abc@abc.com",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Email."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Cell"),r.a.createElement("input",{type:"number",className:"form-control",ref:"cell",placeholder:"e.g. +923011234567",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a cell no..")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",placeholder:"e.g. London",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide your Address."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Area"),r.a.createElement("select",{value:this.state.selectedAreaValue,onChange:this.handleAreaChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select an Area--"),this.areasOptions()),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select an area.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Route"),r.a.createElement("br",null),r.a.createElement("select",{value:this.state.selectedRouteValue,onChange:this.handleRouteChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Route--"),this.routesOptions()),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select a route."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8 justify-content-center"},r.a.createElement("label",{ref:"msgLabel",className:"label-customer"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"customerRegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),Se=Object(u.b)()(Oe),Ce=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Se,null)}}]),t}(n.Component),xe=Ce,we=a(87),Te=(a(53),a(42)),Re=a.n(Te),ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleExport=function(){var e=a.state.dataToExport.map(Object.values);console.log(e),e.map(function(e){e.pop(),e.pop(),e.pop()}),e.splice(0,0,["ID","name","email","cell","address","area_id","route_id"]);var t=Re.a.utils.aoa_to_sheet(e),n=Re.a.utils.book_new();Re.a.utils.book_append_sheet(n,t,"sheetJS");var r=a.state.exportFileName+".xlsx";Re.a.writeFile(n,r),a.setState({selectedFormat:""}),a.props.makeDataValueEmpty()},a.settingFetchRequest=function(e){a.setState({exportFileName:e});var t=[];switch(e){case"AREAS":t.push(fetch("/getAllAreas").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"CUSTOMERS":t.push(fetch("/getAllCustomers").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"DRIVERS":t.push(fetch("/getAllDrivers").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"INVENTORY":t.push(fetch("/getAllInventory").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"PERMISSIONS":t.push(fetch("/getAllPermissions").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"PRODUCTcATEGORIES":t.push(fetch("/getAllProductCategories").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"PRODUCTS":t.push(fetch("/getAllProducts").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"ROLES":t.push(fetch("/getAllRoles").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"ROUTES":t.push(fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}));break;case"USERS":t.push(fetch("/getAllUsers").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({dataToExport:e.data})}).catch(function(e){return console.log(e)}))}Promise.all(t).then(function(){a.handleExport()})},a.state={selectedFormat:"",dataToExport:"",exportFileName:""},a.handleFormatChange=a.handleFormatChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleFormatChange",value:function(e){this.setState({selectedFormat:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:" form-row col-8 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"IELabel",htmlFor:"IESelect"},"File Format"),r.a.createElement("select",{ref:"format",value:this.state.selectedFormat,onChange:this.handleFormatChange,className:"form-control",id:"IESelect",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:"",disabled:!0},"--Select--"),r.a.createElement("option",{value:"xl"},"Excel")),r.a.createElement("div",{className:"invalid-feedback"},"Please select at least one option.")),r.a.createElement("div",{style:{border:"none"},className:"col-md-5.5 mb-1"},r.a.createElement("button",{className:"IEBtn",type:"submit"},"Export"),r.a.createElement("br",null)))}}]),t}(n.Component),Pe=ke,Fe=a(149),Ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={cTable:!1,fTable:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createdRecordsTable",value:function(e,t){return t.length>0?r.a.createElement(Fe.a,{striped:!0,bordered:!0,responsive:"xl",variant:"dark"},r.a.createElement("caption",{style:{textAlign:"center",captionSide:"top",color:"#274e13",fontWeight:"700"}},"Following Data is Successfully Imported."),r.a.createElement("thead",{className:"thead-light"},e),r.a.createElement("tbody",null,t)):null}},{key:"existingRecordsTable",value:function(e,t){return t.length>0?r.a.createElement(Fe.a,{striped:!0,bordered:!0,responsive:"xl"},r.a.createElement("caption",{style:{textAlign:"center",captionSide:"top",color:"#783f04",fontWeight:"700"}},"Following Data is already Existing."),r.a.createElement("thead",{className:"thead-dark"},e),r.a.createElement("tbody",null,t)):null}},{key:"render",value:function(){var e=this.props.createdRecords,t=this.props.existingRecords,a=this.props.selectedDataValue,n=[],l=[],o=[],c=1;switch(a){case"AREAS":case"PERMISSIONS":case"PRODUCTcATEGORIES":case"ROLES":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name))),c++});break;case"CUSTOMERS":case"DRIVERS":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Cell"),r.a.createElement("th",null,"Address"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]),r.a.createElement("td",null,e[3]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.cell),r.a.createElement("td",null,e.address))),c++});break;case"PRODUCTS":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Description"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.description))),c++});break;case"ROUTES":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description))),c++});break;case"USERS":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Cell"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Password"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]),r.a.createElement("td",null,e[3]),r.a.createElement("td",null,e[4]),r.a.createElement("td",null,e[5]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.cell),r.a.createElement("td",null,e.address),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.password))),c++});break;case"INVENTORY":o.push(r.a.createElement("tr",{key:c},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Decsription"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Price"))),e.forEach(function(e){n.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]),r.a.createElement("td",null,e[3]),r.a.createElement("td",null,e[4]))),c++}),c=1,t.forEach(function(e){l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.rate),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,e.price))),c++})}return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0}),r.a.createElement(me.a.Body,null,this.createdRecordsTable(o,n),this.existingRecordsTable(o,l)),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.props.onHide},"OK")))}}]),t}(n.Component),Le=Ie,Ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleImport=function(){var e=a.state.selectedFile,t=new FormData;t.append("data",e),t.append("importing",a.props.data),fetch("/import",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){var t=e.message;a.msgLabel.innerHTML=t,a.msgLabel.style.display="";var n=e.failure;if(""===t){var r=e.success.map(Object.values);r.map(function(e){e.pop(),e.pop(),e.shift()}),a.setState({createdRecords:r,existingRecords:n,modelShow:!0})}}).catch(function(e){return console.log(e)})},a.settingSampleFileAddress=function(e){switch(e){case"AREAS":a.setState({sample:"/sampleAreas.xlsx"});break;case"CUSTOMERS":a.setState({sample:"/sampleCustomers.xlsx"});break;case"DRIVERS":a.setState({sample:"/sampleDrivers.xlsx"});break;case"INVENTORY":a.setState({sample:"/sampleInventory.xlsx"});break;case"PERMISSIONS":a.setState({sample:"/samplePermissions.xlsx"});break;case"PRODUCTcATEGORIES":a.setState({sample:"/sampleProductCategories.xlsx"});break;case"PRODUCTS":a.setState({sample:"/sampleProducts.xlsx"});break;case"ROLES":a.setState({sample:"/sampleRoles.xlsx"});break;case"ROUTES":a.setState({sample:"/sampleRoutes.xlsx"});break;case"USERS":a.setState({sample:"/sampleUsers.xlsx"})}},a.onHide=function(){a.setState({modelShow:!1,selectedFile:""}),a.props.makeDataValueEmpty(),a.refs.ichooseFile.value=""},a.state={selectedFile:"",sample:"",createdRecords:[],existingRecords:[]},a.fileChange=a.fileChange.bind(Object(I.a)(Object(I.a)(a))),a.settingSampleFileAddress=a.settingSampleFileAddress.bind(Object(I.a)(Object(I.a)(a))),a.callModel=a.callModel.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"fileChange",value:function(e){var t=e.target.files[0];this.setState({selectedFile:t})}},{key:"callModel",value:function(){if(this.state.modelShow)return r.a.createElement(Le,{show:this.state.modelShow,onHide:this.onHide,createdRecords:this.state.createdRecords,existingRecords:this.state.existingRecords,selectedDataValue:this.props.data})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{border:"none"},className:" form-row col-8 m-0 p-0 justify-content-center"},r.a.createElement("div",{style:{border:"none"},className:" form-row col-12 m-0 p-0 justify-content-center"},r.a.createElement("div",{style:{border:"none"},className:"col-md-6 mb-2"},r.a.createElement("label",{className:"IELabel",htmlFor:"chooseFile"},"Select file from which you want to ",this.state.selectedIEValue," data"),r.a.createElement("br",null),r.a.createElement("input",{ref:"ichooseFile",type:"file",onChange:this.fileChange,id:"chooseFile",className:"form-control-file chooseFile",style:{border:"1px solid #783f04",borderRadius:"5px",color:"#783f04"},accept:".xlsx, .csv",required:!0}),r.a.createElement("p",{className:"note"},"*you can select only excel files."),r.a.createElement("div",{className:"invalid-feedback"},"Please choose a file."))),r.a.createElement("div",{style:{border:"none"},className:" form-row col-12 m-0 p-0 justify-content-center"},r.a.createElement("div",{style:{border:"none"},className:"col-md-5.5 mb-1"},r.a.createElement("button",{className:"IEBtn",type:"submit"},"Import"),r.a.createElement("br",null),this.callModel()),r.a.createElement("br",null),r.a.createElement("div",{style:{border:"none",textAlign:"center"},className:"col-md-8"},r.a.createElement("a",{ref:this.props.sample,style:{color:"blue",fontFamily:"cursive",display:"none",fontWeight:"500",fontSize:"14px"},href:this.state.sample,download:!0},"Download Sample File"),r.a.createElement("label",{style:{display:"none"},ref:function(t){return e.msgLabel=t},className:"IELabel"}))))}}]),t}(n.Component),De=Ae,Me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleValidate=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.IEForm;!1===t.checkValidity()?t.classList.add("was-validated"):"Import"===a.state.selectedIEValue?a.refs.importComponent.handleImport():a.refs.exportComponent.settingFetchRequest(a.state.selectedDataValue)},a.makeDataValueEmpty=function(){a.setState({selectedDataValue:""})},a.state={selectedIEValue:"",selectedDataValue:"",modelShow:!1},a.handleIEChange=a.handleIEChange.bind(Object(I.a)(Object(I.a)(a))),a.handleIEDataChange=a.handleIEDataChange.bind(Object(I.a)(Object(I.a)(a))),a.handleValidate=a.handleValidate.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleIEChange",value:function(e){this.setState({selectedIEValue:e.target.value})}},{key:"handleIEDataChange",value:function(e){this.setState({selectedDataValue:e.target.value}),"Import"===this.state.selectedIEValue&&(this.sample.style.display="",this.refs.importComponent.settingSampleFileAddress(e.target.value))}},{key:"callImport",value:function(){var e=this;return"Import"===this.state.selectedIEValue?r.a.createElement(De,Object(we.a)({makeDataValueEmpty:this.makeDataValueEmpty,data:this.state.selectedDataValue,callModel:this.callModel,sample:function(t){e.sample=t},ref:"importComponent"},"data",this.state.selectedDataValue)):null}},{key:"callExport",value:function(){return"Export"===this.state.selectedIEValue?r.a.createElement(Pe,{makeDataValueEmpty:this.makeDataValueEmpty,ref:"exportComponent"}):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-9",style:{border:"none",textAlign:"center",marginTop:"".concat(this.props.mt),marginBottom:"".concat(this.props.mb),paddingTop:"".concat(this.props.pt),paddingBottom:"".concat(this.props.pb)}},r.a.createElement("h1",{style:{border:"none"},className:"IEHdng"},"Import/Export Data"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleValidate,method:"POST",ref:"IEForm",className:" form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{className:" form-row col-8 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"IELabel",htmlFor:"IESelect"},"Import/Export"),r.a.createElement("select",{value:this.state.selectedIEValue,onChange:this.handleIEChange,className:"form-control",id:"IESelect",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:"",disabled:!0},"--Select--"),r.a.createElement("option",{value:"Import"},"Import"),r.a.createElement("option",{value:"Export"},"Export")),r.a.createElement("div",{className:"invalid-feedback"},"Please select at least one option."))),r.a.createElement("div",{className:" form-row col-8 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"IELabel",htmlFor:"dataSelect"},"Select data which you want to ",this.state.selectedIEValue),r.a.createElement("select",{value:this.state.selectedDataValue,onChange:this.handleIEDataChange,className:"form-control select",id:"dataSelect",ref:"dataSelect",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:"",disabled:!0},"--Select--"),r.a.createElement("option",{value:"AREAS"},"Areas"),r.a.createElement("option",{value:"CUSTOMERS"},"Customers"),r.a.createElement("option",{value:"DRIVERS"},"Drivers"),r.a.createElement("option",{value:"INVENTORY"},"Inventory"),r.a.createElement("option",{value:"PERMISSIONS"},"Permissions"),r.a.createElement("option",{value:"PRODUCTcATEGORIES"},"Product-Categories"),r.a.createElement("option",{value:"PRODUCTS"},"Products"),r.a.createElement("option",{value:"ROLES"},"Roles"),r.a.createElement("option",{value:"ROUTES"},"Routes"),r.a.createElement("option",{value:"USERS"},"Users")),r.a.createElement("div",{className:"invalid-feedback"},"Please select at least one option."))),this.callImport(),this.callExport()))}}]),t}(n.Component),Ve=Me,He=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Ve,null)}}]),t}(n.Component),_e=He,Be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row col-sm-3 m-0 p-0"},r.a.createElement("div",{className:"vr col-sm-0.5 rightPanevr"}),r.a.createElement("div",{className:"col-sm-10",style:{border:"none",margin:"0px",paddingTop:"20px",color:"#783f04",fontSize:"35px",fontWeight:"700",textAlign:"center"}},r.a.createElement(Q.a,{style:{color:"#274e13",marginTop:"0px",marginBottom:"30px",fontSize:"75px"},icon:K.k}),r.a.createElement("br",null),this.props.label,r.a.createElement("label",{style:{color:"#274e13",marginTop:"30px"}},this.props.date.toLocaleString())))}}]),t}(n.Component),Ue=Be,Ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Your",r.a.createElement("br",null),"Customers")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"70px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/customers/home",component:je}),r.a.createElement(U.PropsRoute,{path:"/customers/add",component:xe}),r.a.createElement(U.PropsRoute,{path:"/customers/import",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/customers/export",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,pt:"158px",pb:"159px",class:"col-sm-9"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),qe=Ge,We=(a(133),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchLimitChange=function(e){a.props.onSearchLimitChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;this.props.searchLimit;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"PGselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"PGsearch-input",ref:"search",placeholder:"Search Pricegroups.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"PGsearch-button",icon:K.g}))))))}}]),t}(n.Component)),Je=We,ze=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  PGbutton-contaner "},r.a.createElement(A.a,{to:"/priceGroups/add"}," ",r.a.createElement("button",{ref:"addPriceGroup"},"Add New PriceGroup")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  PGbutton-contaner "},r.a.createElement(A.a,{to:"/priceGroups/customerPricing"}," ",r.a.createElement("button",{ref:"customerPricing"},"Customer Pricing")," "))),r.a.createElement(Je,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),Ye=ze,Qe=function(e){return{type:"ADD_PRICE_GROUP",payload:e}},Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showOptions:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({showOptions:!0})}}]),Object(s.a)(t,[{key:"updatePG",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.price.value,r=this.refs.BBPrice.value,l=this.refs.category.value;this.props.updatedb(a,n,r,l)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Price-Group")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Price"),r.a.createElement("input",{type:"text",className:"form-control",ref:"price",defaultValue:this.props.editprice,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Buying-back-Price"),r.a.createElement("input",{type:"text",className:"form-control",ref:"BBPrice",defaultValue:this.props.editbbprice,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Product-Category"),r.a.createElement("select",{defaultValue:this.props.editcategory,ref:"category",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Product-Category--"),r.a.createElement("option",{value:"electronics"},"Electronics"),r.a.createElement("option",{value:"sports"},"Sports")))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updatePG.bind(this)},"Save")))}}]),t}(n.Component),Ze=Ke,$e=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[6].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML;a.setState({editId:c,editName:s,editPrice:i,editBBPrice:d,editCategory:m,modalShow:!0})},a.updatedb=function(e,t,n,r){var l={id:a.state.editId,name:e,price:t,bbprice:n,category:r},o={method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}};fetch("/updatePG",o).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editPrice:"",editBBPrice:"",editCategory:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editPrice:"",editBBPrice:"",editCategory:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("PGtbl").deleteRow(c);var s={value:a.cells[6].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deletePG",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_PG",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.price,c=a.buying_back_price,s=a.product_category_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(Ze,{editname:this.state.editName,editprice:this.state.editPrice,editbbprice:this.state.editBBPrice,editcategory:this.state.editCategory,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),Xe=Object(u.b)()($e),et=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.PGSearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(Xe,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md PGtbl"},r.a.createElement("table",{id:"PGtbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Buying_back Price"),r.a.createElement("th",null,"Product_Category_id"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),tt=et,at=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.callTable=function(){return a.state.showTable?r.a.createElement(tt,{PGSearchResults:a.props.priceGroups,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllPriceGroups").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_PRICE_GROUPS",payload:t.data}),e._isMounted&&e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(Ye,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),nt=Object(u.b)(function(e){return{priceGroups:e.PGReducer}})(at),rt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(nt,null)}}]),t}(n.Component),lt=rt,ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handlePGRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value,category:a.state.selectedCategoryValue,price:a.refs.price.value,BBPrice:a.refs.BBPrice.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewPriceGroup",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;"price group registered successfully"===t?(a.refs.name.value="",a.refs.price.value="",a.refs.BBPrice.value="",a.setState({selectedCategoryValue:""})):a.refs.name.focus(),a.props.dispatch(Qe(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.state={selectedCategoryValue:"",allPCs:""},a.handleCategoryChange=a.handleCategoryChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllProductCategories").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({allPCs:t.data})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleCategoryChange",value:function(e){this.setState({selectedCategoryValue:e.target.value})}},{key:"render",value:function(){if(""!==this.state.allPCs)var e=this.state.allPCs.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)});else e=null;return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newPGHdng"},"Price Group Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handlePGRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. John",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Product Category"),r.a.createElement("select",{value:this.state.selectedCategoyrValue,onChange:this.handleCategoryChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select Product Category--"),e),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select an area."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Price"),r.a.createElement("input",{type:"number",className:"form-control",ref:"price",placeholder:"e.g. 1000",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Price.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Byuing_back Price"),r.a.createElement("input",{type:"number",className:"form-control",ref:"BBPrice",placeholder:"e.g. 950",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a cell no.."))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-PG"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"PGRegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),ct=Object(u.b)()(ot),st=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(ct,null)}}]),t}(n.Component),it=st,dt=function(e){return{type:"ADD_CP",payload:e}},mt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateCP",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.customer.value,n=this.refs.priceGroup.value;this.props.updatedb(a,n)}}},{key:"render",value:function(){var e=this.props.customers.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}),t=this.props.priceGroups.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)});return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Customer-Pricing")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Customer"),r.a.createElement("select",{defaultValue:this.props.editcustomer,ref:"customer",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Customer--"),e))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Price-Group"),r.a.createElement("select",{defaultValue:this.props.editpricegroup,ref:"priceGroup",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Price-Group--"),t))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateCP.bind(this)},"Save")))}}]),t}(n.Component),ut=mt,ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[4].innerHTML,s=t.cells[5].innerHTML,i=t.cells[6].innerHTML;a.setState({editId:c,editCustomer:s,editPriceGroup:i,modalShow:!0})},a.updatedb=function(e,t){var n={id:a.state.editId,customer:e,priceGroup:t},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};fetch("/updateCP",r).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editCustomer:"",editPriceGroup:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editCustomer:"",editPriceGroup:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("CPtbl").deleteRow(c);var s={value:a.cells[4].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteCP",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_CP",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e,t,a=this,n=this.props.customers,l=this.props.priceGroups,o=this.props.index,c=this.props.searchResult,s=c.id,i=c.customer_id,d=c.price_group_id;return n.forEach(function(t){t.id!=i||(e=t.name)}),l.forEach(function(e){e.id!=d||(t=e.name)}),r.a.createElement("tr",{className:""},r.a.createElement("td",null,o),r.a.createElement("td",null,e),r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(ut,{customers:n,priceGroups:l,editcustomer:this.state.editCustomer,editpricegroup:this.state.editPriceGroup,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){a.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},s),r.a.createElement("td",{style:{display:"none"}},i),r.a.createElement("td",{style:{display:"none"}},d))}}]),t}(n.Component),pt=Object(u.b)()(ht),bt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.customers,n=this.props.priceGroups,l=this.props.CPSearchResults,o=[],c=0;if("customer_id"===t&&""!==e){var s="";a.forEach(function(t){-1!==t.name.search(e)&&(s=t.id)})}else"price_group_id"===t&&""!==e?n.forEach(function(t){-1!==t.name.search(e)&&(s=t.id)}):s=e;return l.forEach(function(e){-1!=e[t].indexOf(s)&&(c+=1,o.push(r.a.createElement(pt,{customers:a,priceGroups:n,index:c,searchResult:e,key:e.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md PGtbl"},r.a.createElement("table",{id:"CPtbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Customer"),r.a.createElement("th",null,"Price-Group"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,o)))}}]),t}(n.Component),ft=bt,Et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"PGselect"},r.a.createElement("option",{value:"customer_id"},"Search By Name"),r.a.createElement("option",{value:"price_group_id"},"Search By Price Group"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"PGsearch-input",placeholder:"Search Customer-PriceGroups.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",disabled:!0},r.a.createElement(Q.a,{className:"PGsearch-button",icon:K.g}))))))}}]),t}(n.Component),vt=Et,gt=a(38),yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleCustomerPricing=function(e){e.preventDefault(),""===a.state.selectedCustomer?(a.refs.msgLblf.innerHTML="Please select customer",a.refs.customerSelect.focus()):(a.refs.msgLblf.innerHTML="",""===a.state.selectedPriceGroup?(a.refs.msgLblf.innerHTML="Please select priceGroup",a.refs.priceGroupSelect.focus()):(a.refs.msgLblf.innerHTML="",a.saveToServer()))},a.saveToServer=function(){var e={customer:a.state.selectedCustomer,priceGroup:a.state.selectedPriceGroup},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/customerPricing",t).then(function(e){return e.json()}).then(function(e){var t=e.msg,n=e.customerID,r=e.priceGroupID;a.props.customers.forEach(function(e){e.id!==n||(n=e.name)}),a.props.priceGroups.forEach(function(e){e.id!==r||(r=e.name)});var l="customer: "+n+", has been assigned Price-Group: "+r,o="customer: "+n+", already has Price-Group: "+r;"created"===t&&(a.refs.msgLbls.innerHTML=l,a.setState({selectedCustomer:"",selectedPriceGroup:""}),a.refs.customerSelect.state.value.label="",a.refs.priceGroupSelect.state.value.label="",a.refs.customerSelect.focus()),"existing"===t&&(a.refs.msgLbls.innerHTML=o,a.refs.priceGroupSelect.focus()),"error"===t&&(a.refs.msgLbls.innerHTML="something went wrong"),a.props.dispatch(dt(e.data))}).catch(function(e){return console.log(e)})},a.state={selectedCustomer:"",selectedPriceGroup:""},a.handleCustomerChange=a.handleCustomerChange.bind(Object(I.a)(Object(I.a)(a))),a.handlePriceGroupChange=a.handlePriceGroupChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleCustomerChange",value:function(e){this.setState({selectedCustomer:e.value}),this.refs.msgLblf.innerHTML="",this.refs.msgLbls.innerHTML=""}},{key:"handlePriceGroupChange",value:function(e){this.setState({selectedPriceGroup:e.value}),this.refs.msgLblf.innerHTML="",this.refs.msgLbls.innerHTML=""}},{key:"render",value:function(){var e=this.props.customers.map(function(e){return{key:e.id,label:e.name,value:e.id}}),t=this.props.priceGroups.map(function(e){return{key:e.id,label:e.name,value:e.id}});return r.a.createElement("div",null,r.a.createElement("h1",{style:{border:"none"},ref:this.props.newPGHdng,className:"newPGHdng"}," Customer Pricing"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleCustomerPricing,method:"POST",ref:this.props.myForm,className:"form-row m-0 justify-content-center "},r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Customer"),r.a.createElement(gt.a,{ref:"customerSelect",options:e,defaultInputValue:this.state.selectedCustomer,onChange:this.handleCustomerChange}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PG",htmlFor:""},"Price Group"),r.a.createElement(gt.a,{ref:"priceGroupSelect",options:t,defaultInputValue:this.state.selectedPriceGroup,onChange:this.handlePriceGroupChange}))),r.a.createElement("div",{style:{border:"none"},className:"row col-7 justify-content-center"},r.a.createElement("label",{ref:"msgLbls",className:"label-PG"}),r.a.createElement("label",{ref:"msgLblf",style:{color:"#cc0000",fontFamily:"mono-space",fontWeight:"normal"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"PGRegisterBtn",type:"submit"},"Submit"),r.a.createElement("br",null)))))}}]),t}(n.Component),Nt=Object(u.b)()(yt),jt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).showSearchFilter=function(){return a.state.showSearchResultsTable?(a.myForm.style.display="none",r.a.createElement(vt,{searchText:a.state.searchText,searchFilter:a.state.searchFilter,onSearchTextChange:a.onSearchTextChange,onSearchFilterChange:a.onSearchFilterChange})):null},a.viewSearchResultsTable=function(){return a.state.showSearchResultsTable&&a.state.showCustomers&&a.state.showPriceGroups?r.a.createElement(ft,{searchText:a.state.searchText,searchFilter:a.state.searchFilter,customers:a.state.customers,priceGroups:a.state.priceGroups,CPSearchResults:a.state.allCustomersPrices}):null},a.callSetCustomerPrices=function(){return a.state.showCustomers&&a.state.showPriceGroups?r.a.createElement(Nt,{myForm:function(e){return a.myForm=e},newPGHdng:function(e){return a.newPGHdng=e},customers:a.state.customers,priceGroups:a.state.priceGroups}):null},a.state={showCustomers:"",customers:"",priceGroups:"",showPriceGroups:"",allCustomersPrices:null,showSearchResultsTable:!1,clickBtnLabel:"View",searchText:"",searchFilter:"customer_id"},a.onSearchTextChange=a.onSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.onSearchFilterChange=a.onSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleClick=a.handleClick.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllCustomerPricing").then(function(e){return e.json()}).then(function(t){e.setState({allCustomersPrices:t.data})}).catch(function(e){return console.log(e)}),fetch("/getAllCustomers").then(function(e){return e.json()}).then(function(t){e.setState({customers:t.data,showCustomers:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllPriceGroups").then(function(e){return e.json()}).then(function(t){e.setState({priceGroups:t.data,showPriceGroups:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"onSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"onSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleClick",value:function(){this.setState({showSearchResultsTable:!this.state.showSearchResultsTable}),"View"===this.state.clickBtnLabel?(this.setState({clickBtnLabel:"Hide"}),this.refs.clickBtn.style.color="#274e13",this.newPGHdng.style.color="#783f04"):(this.setState({clickBtnLabel:"View"}),this.myForm.style.display="",this.refs.clickBtn.style.color="#783f04",this.newPGHdng.style.color="#274e13")}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"1px",marginBottom:"2px"},className:" col-sm-9 "},this.callSetCustomerPrices(),r.a.createElement("button",{style:{color:"#783f04"},ref:"clickBtn",className:"btn btn-link",onClick:this.handleClick},this.state.clickBtnLabel," Customer's Prices"),this.showSearchFilter(),this.viewSearchResultsTable())}}]),t}(n.Component),Ot=jt,St=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Ot,null)}}]),t}(n.Component),Ct=St,xt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Price Groups")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/priceGroups/home",component:lt}),r.a.createElement(U.PropsRoute,{path:"/priceGroups/add",component:it}),r.a.createElement(U.PropsRoute,{path:"/priceGroups/customerPricing",component:Ct}),r.a.createElement(U.PropsRoute,{path:"/priceGroups/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/priceGroups/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),wt=xt,Tt=(a(138),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"Dselect"},r.a.createElement("option",{value:"name"},"Search By Name"),r.a.createElement("option",{value:"address"},"Search By Address"),r.a.createElement("option",{value:"cell"},"Search By Cell #"),r.a.createElement("option",{value:"email"},"Search By Email"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"Dsearch-input",ref:"search",placeholder:"Search Drivers.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"Dsearch-button",icon:K.g}))))))}}]),t}(n.Component)),Rt=Tt,kt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Dbutton-contaner "},r.a.createElement(A.a,{to:"/drivers/add"}," ",r.a.createElement("button",null,"Add New Driver")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Dbutton-contaner "},r.a.createElement(A.a,{to:"/drivers/import"}," ",r.a.createElement("button",null,"Import Drivers")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Dbutton-contaner "},r.a.createElement(A.a,{to:"/drivers/export"}," ",r.a.createElement("button",null,"Export Drivers")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Dbutton-contaner "},r.a.createElement(A.a,{to:"/routes/home"}," ",r.a.createElement("button",null,"Routes")," "))),r.a.createElement(Rt,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),Pt=kt,Ft=function(e){return{type:"ADD_DRIVER",payload:e}},It=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.areasOptions=function(){return a.state.showAreas?a.state.areas.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}):null},a.routesOptions=function(){if(a.state.showRoutes)return a.state.routes.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})},a.state={areas:"",routes:"",showAreas:!1,showRoutes:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllAreas").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({areas:t.data,showAreas:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({routes:t.data,showRoutes:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"updateDriver",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.email.value,r=this.refs.cell.value,l=this.refs.address.value,o=this.refs.area.value,c=this.refs.route.value;this.props.updatedb(a,n,r,l,o,c)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Driver")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",defaultValue:this.props.editemail,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Cell"),r.a.createElement("input",{type:"text",className:"form-control",ref:"cell",defaultValue:this.props.editcell,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",defaultValue:this.props.editaddress,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Area"),r.a.createElement("select",{defaultValue:this.props.editarea,ref:"area",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select an Area--"),this.areasOptions())),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Route"),r.a.createElement("br",null),r.a.createElement("select",{defaultValue:this.props.editroute,ref:"route",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Route--"),this.routesOptions()))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateDriver.bind(this)},"Save")))}}]),t}(n.Component),Lt=It,At=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[8].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML,u=t.cells[5].innerHTML,h=t.cells[6].innerHTML;a.setState({editId:c,editName:s,editEmail:i,editCell:d,editAddress:m,editArea:u,editRoute:h,modalShow:!0})},a.updatedb=function(e,t,n,r,l,o){var c={id:a.state.editId,name:e,email:t,cell:n,address:r,area:l,route:o},s={method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("/updateDriver",s).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editArea:"",editRoute:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editArea:"",editRoute:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Dtbl").deleteRow(c);var s={value:a.cells[8].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteDriver",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_DRIVER",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.email,c=a.cell,s=a.address,i=a.area_id,d=a.route_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,d),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.i})),r.a.createElement(Lt,{editname:this.state.editName,editemail:this.state.editEmail,editcell:this.state.editCell,editaddress:this.state.editAddress,editarea:this.state.editArea,editroute:this.state.editRoute,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),Dt=Object(u.b)()(At),Mt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.DsearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(Dt,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Dtbl"},r.a.createElement("table",{id:"Dtbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Cell"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Area_ID"),r.a.createElement("th",null,"Route_ID"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),Vt=Mt,Ht=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.callTable=function(){return a.state.showTable?r.a.createElement(Vt,{DsearchResults:a.props.drivers,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllDrivers").then(function(e){return e.json()}).then(function(t){e.props.dispatch({type:"SET_DRIVERS",payload:t.data}),e._isMounted&&e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(Pt,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),_t=Object(u.b)(function(e){return{drivers:e.driversReducer}})(Ht),Bt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(_t,null)}}]),t}(n.Component),Ut=Bt,Gt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.handleDriverRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e=a.refs.name,t=a.refs.email,n=a.refs.cell,r=a.refs.address,l=a.state.selectedAreaValue,o=a.state.selectedRouteValue,c={name:e.value,email:t.value,cell:n.value,address:r.value,area:l,route:o},s={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("/addNewDriver",s).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;"driver registered successfully"===t?(a.refs.name.value="",a.refs.email.value="",a.refs.cell.value="",a.refs.address.value="",a.setState({selectedRouteValue:"",selectedAreaValue:""})):a.refs.email.focus(),a.props.dispatch(Ft(e.data)),a.refs.msgLabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.areasOptions=function(){return a.state.showAreas?a.state.areas.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}):null},a.routesOptions=function(){if(a.state.showRoutes)return a.state.routes.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})},a.state={areas:"",showAreas:!1,routes:"",showRoutes:"",selectedRouteValue:"",selectedAreaValue:""},a.handleAreaChange=a.handleAreaChange.bind(Object(I.a)(Object(I.a)(a))),a.handleRouteChange=a.handleRouteChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllAreas").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({areas:t.data,showAreas:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({routes:t.data,showRoutes:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleRouteChange",value:function(e){this.setState({selectedRouteValue:e.target.value})}},{key:"handleAreaChange",value:function(e){this.setState({selectedAreaValue:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"30px",marginBottom:"30px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newDriverHdng"},"Driver Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleDriverRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. John",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",placeholder:"e.g. abc@abc.com",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Email."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Cell"),r.a.createElement("input",{type:"number",className:"form-control",ref:"cell",placeholder:"e.g. +923011234567",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a cell no..")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",placeholder:"e.g. London",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide your Address."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-driver",htmlFor:""},"Area"),r.a.createElement("select",{value:this.state.selectedAreaValue,onChange:this.handleAreaChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select an Area--"),this.areasOptions()),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select an area.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-customer",htmlFor:""},"Route"),r.a.createElement("br",null),r.a.createElement("select",{value:this.state.selectedRouteValue,onChange:this.handleRouteChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Route--"),this.routesOptions()),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select a route."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8 justify-content-center"},r.a.createElement("label",{ref:"msgLabel",className:"label-driver"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"driverRegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),qt=Object(u.b)()(Gt),Wt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(qt,null)}}]),t}(n.Component),Jt=Wt,zt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Your",r.a.createElement("br",null),"Drivers")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"70px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/drivers/home",component:Ut}),r.a.createElement(U.PropsRoute,{path:"/drivers/add",component:Jt}),r.a.createElement(U.PropsRoute,{path:"/drivers/import",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/drivers/export",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,pt:"158px",pb:"159px",class:"col-sm-9"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),Yt=zt,Qt=(a(139),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"PGselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"PGsearch-input",ref:"search",placeholder:"Search Routes.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"PGsearch-button",icon:K.g}))))))}}]),t}(n.Component)),Kt=Qt,Zt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Rbutton-contaner "},r.a.createElement(A.a,{to:"/routes/add"}," ",r.a.createElement("button",null,"Add New Route")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Rbutton-contaner "},r.a.createElement(A.a,{to:"/routes/import"}," ",r.a.createElement("button",null,"Import Routes")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Rbutton-contaner "},r.a.createElement(A.a,{to:"/routes/export"}," ",r.a.createElement("button",null,"Export Routes")," "))),r.a.createElement(Kt,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),$t=Zt,Xt=function(e){return{type:"ADD_ROUTE",payload:e}},ea=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showOptions:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({showOptions:!0})}}]),Object(s.a)(t,[{key:"updateRoute",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.description.value,r=this.refs.area.value;this.props.updatedb(a,n,r)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Price-Group")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Description"),r.a.createElement("input",{type:"text",className:"form-control",ref:"description",defaultValue:this.props.editdescription,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Area"),r.a.createElement("select",{defaultValue:this.props.editarea,ref:"area",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select an Area--"),r.a.createElement("option",{value:"1"},"Area 1"),r.a.createElement("option",{value:"2"},"Area 2")))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateRoute.bind(this)},"Save")))}}]),t}(n.Component),ta=ea,aa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[5].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML;a.setState({editId:c,editName:s,editDescription:i,editArea:d,modalShow:!0})},a.updatedb=function(e,t,n){var r={id:a.state.editId,name:e,description:t,area:n},l={method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};fetch("/updateRoute",l).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editDescription:"",editArea:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editDescription:"",editArea:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Rtbl").deleteRow(c);var s={value:a.cells[5].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteRoute",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_ROUTE",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.description,c=a.area_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(ta,{editname:this.state.editName,editdescription:this.state.editDescription,editarea:this.state.editArea,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),na=Object(u.b)()(aa),ra=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.RSearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(na,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Rtbl"},r.a.createElement("table",{id:"Rtbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Area"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),la=ra,oa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(la,{RSearchResults:a.props.routes,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/getAllRoutes").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_ROUTES",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement($t,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),ca=Object(u.b)(function(e){return{routes:e.routesReducer}})(oa),sa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(ca,null)}}]),t}(n.Component),ia=sa,da=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleRouteRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value,description:a.refs.description.value,area:a.state.selectedArea},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewRoute",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;"Route registered successfully"===t?(a.refs.name.value="",a.refs.description.value="",a.setState({selectedArea:""})):a.refs.name.focus(),a.props.dispatch(Xt(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.state={selectedArea:""},a.handleAreaChange=a.handleAreaChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleAreaChange",value:function(e){this.setState({selectedArea:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newRHdng"},"Route Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleRouteRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. John",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Area"),r.a.createElement("select",{value:this.state.selectedArea,onChange:this.handleAreaChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select Area--"),r.a.createElement("option",{value:"1"},"Area 1"),r.a.createElement("option",{value:"2"},"Area 2"),r.a.createElement("option",{value:"3"},"Area 3"),r.a.createElement("option",{value:"4"},"Area 4")),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select an area."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",{className:"label-R",htmlFor:""},"Description:"),r.a.createElement("textarea",{type:"text",className:"form-control",ref:"description",placeholder:"e.g.",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide description of this route."))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-R"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"RRegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),ma=Object(u.b)()(da),ua=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(ma,null)}}]),t}(n.Component),ha=ua,pa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Routes")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/routes/home",component:ia}),r.a.createElement(U.PropsRoute,{path:"/routes/add",component:ha}),r.a.createElement(U.PropsRoute,{path:"/routes/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/routes/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),ba=pa,fa=(a(140),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"Dselect"},r.a.createElement("option",{value:"name"},"Search By Name"),r.a.createElement("option",{value:"price"},"Search By price"),r.a.createElement("option",{value:"product_category_id"},"Search By Category"),r.a.createElement("option",{value:"description"},"Search By Description"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"Dsearch-input",ref:"search",placeholder:"Search Products.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"Dsearch-button",icon:K.g}))))))}}]),t}(n.Component)),Ea=fa,va=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Pbutton-contaner "},r.a.createElement(A.a,{to:"/products/add"}," ",r.a.createElement("button",null,"Add New Product")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Pbutton-contaner "},r.a.createElement(A.a,{to:"/products/import"}," ",r.a.createElement("button",null,"Import Products")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Pbutton-contaner "},r.a.createElement(A.a,{to:"/products/export"}," ",r.a.createElement("button",null,"Export Products")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Pbutton-contaner "},r.a.createElement(A.a,{to:"/productCategories/home"}," ",r.a.createElement("button",null,"Product Categories")," "))),r.a.createElement(Ea,{searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange}))}}]),t}(n.Component),ga=va,ya=function(e){return{type:"ADD_PRODUCT",payload:e}},Na=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showOptions:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({showOptions:!0})}}]),Object(s.a)(t,[{key:"updateProduct",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.price.value,r=this.refs.description.value,l=this.refs.category.value;this.props.updatedb(a,n,r,l)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Product")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Price"),r.a.createElement("input",{type:"text",className:"form-control",ref:"price",defaultValue:this.props.editprice,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Description"),r.a.createElement("input",{type:"text",className:"form-control",ref:"description",defaultValue:this.props.editdescription,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Category"),r.a.createElement("select",{defaultValue:this.props.editcategory,ref:"category",className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Product-Category--"),r.a.createElement("option",{value:"electronics"},"Electronics"),r.a.createElement("option",{value:"sports"},"Sports")))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateProduct.bind(this)},"Save")))}}]),t}(n.Component),ja=Na,Oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[6].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML;a.setState({editId:c,editName:s,editPrice:m,editDescription:i,editCategory:d,modalShow:!0})},a.updatedb=function(e,t,n,r){var l={id:a.state.editId,name:e,price:t,description:n,category:r},o={method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}};fetch("/updateProduct",o).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editPrice:"",editDescription:"",editCategory:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editPrice:"",editDescription:"",editCategory:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Ptbl").deleteRow(c);var s={value:a.cells[6].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteProduct",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_PRODUCT",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.price,c=a.description,s=a.product_category_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(ja,{editname:this.state.editName,editprice:this.state.editPrice,editdescription:this.state.editDescription,editcategory:this.state.editCategory,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),Sa=Object(u.b)()(Oa),Ca=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.PsearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(Sa,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Ptbl"},r.a.createElement("table",{id:"Ptbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),xa=Ca,wa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(xa,{PsearchResults:a.props.products,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllProducts").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_PRODUCTS",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(ga,{searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange}),this.callTable())}}]),t}(n.Component),Ta=Object(u.b)(function(e){return{products:e.productsReducer}})(wa),Ra=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Ta,null)}}]),t}(n.Component),ka=function(e){return{type:"ADD_NEW_INVENTORY",payload:e}},Pa=function(e){return{type:"SET_INVENTORY",payload:e}},Fa=function(e){return{type:"ADD_PRODUCT_CATEGORY",payload:e}},Ia=function(e){return{type:"SET_PRODUCT_CATEGORIES",payload:e}},La=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleProductRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e=a.state.selectedProduct,t=a.price,n=a.refs.description,r=a.state.selectedCategory,l={name:e,price:t.value,description:n.value,category:r},o={method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}};fetch("/addNewProduct",o).then(function(e){return e.json()}).then(function(e){var t=e.message;"product registered successfully"==t?(a.price.value="",a.refs.description.value="",a.setState({selectedCategory:"",selectedProduct:""})):a.refs.name.focus(),a.props.dispatch(ya(e.data)),a.refs.msgLabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.productCategoryOptions=function(){return a.state.showCategories?a.props.productCategories.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}):null},a.state={selectedCategory:"",selectedProduct:"",showCategories:!1,showProducts:!1,showCostPrice:!1},a.handleCategoryChange=a.handleCategoryChange.bind(Object(I.a)(Object(I.a)(a))),a.handleProductChange=a.handleProductChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllInventory").then(function(e){return e.json()}).then(function(t){e.props.dispatch(Pa(t.data)),e.setState({showProducts:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllProductCategories").then(function(e){return e.json()}).then(function(t){e.props.dispatch(Ia(t.data)),e.setState({showCategories:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleCategoryChange",value:function(e){this.setState({selectedCategory:e.target.value})}},{key:"handleProductChange",value:function(e){this.setState({selectedProduct:e.target.value,showCostPrice:!0})}},{key:"showCostPrice",value:function(){var e=this,t=this.props.inventory.filter(function(t){return t.name===e.state.selectedProduct}).shift();if(this.state.showCostPrice&&void 0!==t)return r.a.createElement("label",{style:{color:"#274e13",fontWeight:"normal"}},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Cost Price:",t.rate,")")}},{key:"render",value:function(){var e=this;if(this.state.showProducts)var t=this.props.inventory.map(function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)});return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"30px",marginBottom:"30px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newProductHdng"},"Product Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleProductRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-9 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Name"),r.a.createElement("select",{ref:"name",value:this.state.selectedProduct,onChange:this.handleProductChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Product--"),t),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-9 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Price"),this.showCostPrice(),r.a.createElement("input",{type:"number",min:"0",className:"form-control",ref:function(t){e.price=t},placeholder:"e.g. 1000",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Price."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-9 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Description"),r.a.createElement("textarea",{className:"form-control",ref:"description",placeholder:"e.g. Nokia",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Description"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-9 mb-3"},r.a.createElement("label",{className:"label-product",htmlFor:""},"Category"),r.a.createElement("select",{value:this.state.selectedCategory,onChange:this.handleCategoryChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select a Category--"),this.productCategoryOptions()),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select a Category."))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("label",{ref:"msgLabel",className:"label-product"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"productRegisterBtn",type:"submit"},"Add")))))}}]),t}(n.Component),Aa=Object(u.b)(function(e){return{inventory:e.inventoryReducer,productCategories:e.PCReducer}})(La),Da=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Aa,null)}}]),t}(n.Component),Ma=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Your",r.a.createElement("br",null),"Products")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"70px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/products/home",component:Ra}),r.a.createElement(U.PropsRoute,{path:"/products/add",component:Da}),r.a.createElement(U.PropsRoute,{path:"/products/import",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/products/export",component:_e,mt:"8px",mb:"8px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,pt:"158px",pb:"159px",class:"col-sm-9"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),Va=(a(141),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"PCselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"PCsearch-input",ref:"search",placeholder:"Search Product-Categories.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"PCsearch-button",icon:K.g}))))))}}]),t}(n.Component)),Ha=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  PCbutton-contaner "},r.a.createElement(A.a,{to:"/productCategories/add"}," ",r.a.createElement("button",null,"Add New Product Category")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  PCbutton-contaner "},r.a.createElement(A.a,{to:"/productCategories/import"}," ",r.a.createElement("button",null,"Import Product Categories")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  PCbutton-contaner "},r.a.createElement(A.a,{to:"/productCategories/export"}," ",r.a.createElement("button",null,"Export Product Categories")," "))),r.a.createElement(Va,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),_a=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showOptions:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({showOptions:!0})}}]),Object(s.a)(t,[{key:"updatePC",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value;this.props.updatedb(a)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Product-Category")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PC",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0}))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updatePC.bind(this)},"Save")))}}]),t}(n.Component),Ba=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[3].innerHTML,s=t.cells[1].innerHTML;a.setState({editId:c,editName:s,modalShow:!0})},a.updatedb=function(e){var t={id:a.state.editId,name:e},n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};fetch("/updatePC",n).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("PCtbl").deleteRow(c);var s={value:a.cells[3].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deletePC",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_PC",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(_a,{editname:this.state.editName,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),Ua=Object(u.b)()(Ba),Ga=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.PCSearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(Ua,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md PCtbl"},r.a.createElement("table",{id:"PCtbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),qa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(Ga,{PCSearchResults:a.props.productCategories,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllProductCategories").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch(Ia(t.data)),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(Ha,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),Wa=Object(u.b)(function(e){return{productCategories:e.PCReducer}})(qa),Ja=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Wa,null)}}]),t}(n.Component),za=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handlePCRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewProductCategory",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;e.success?a.refs.name.value="":a.refs.name.focus(),a.refs.msglabel.innerHTML=t,a.props.dispatch(Fa(e.data))}).catch(function(e){return console.log(e)})},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newPCHdng"},"Product Category Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handlePCRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-6 justify-content-center"},r.a.createElement("div",{className:"col-md-10 mb-3"},r.a.createElement("label",{className:"label-PC",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. Electronics",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name."))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-PC"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"PCRegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),Ya=Object(u.b)()(za),Qa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Ya,null)}}]),t}(n.Component),Ka=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Product",r.a.createElement("br",null),"Categories")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/productCategories/home",component:Ja}),r.a.createElement(U.PropsRoute,{path:"/productCategories/add",component:Qa}),r.a.createElement(U.PropsRoute,{path:"/productCategories/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/productCategories/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),Za=(a(142),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"Aselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"Asearch-input",ref:"search",placeholder:"Search Areas.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"Asearch-button",icon:K.g}))))))}}]),t}(n.Component)),$a=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Abutton-contaner "},r.a.createElement(A.a,{to:"/areas/add"}," ",r.a.createElement("button",null,"Add New Area")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Abutton-contaner "},r.a.createElement(A.a,{to:"/areas/import"}," ",r.a.createElement("button",null,"Import Areas")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Abutton-contaner "},r.a.createElement(A.a,{to:"/areas/export"}," ",r.a.createElement("button",null,"Export Areas")," "))),r.a.createElement(Za,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),Xa=function(e){return{type:"ADD_AREA",payload:e}},en=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={showOptions:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({showOptions:!0})}}]),Object(s.a)(t,[{key:"updateArea",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.aCode.value;this.props.updatedb(a,n)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Area")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PC",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-PC",htmlFor:""},"Area_Code"),r.a.createElement("input",{type:"number",className:"form-control",ref:"aCode",defaultValue:this.props.editCode,required:!0}))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateArea.bind(this)},"Save")))}}]),t}(n.Component),tn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o),a.selectedRow=t.rowIndex;var c=t.cells[4].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML;a.setState({editId:c,editName:s,editCode:i,modalShow:!0})},a.updatedb=function(e,t){var n={id:a.state.editId,name:e,area_code:t},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};fetch("/updateArea",r).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editCode:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Atbl").deleteRow(c);var s={value:a.cells[4].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteArea",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_AREA",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.sr,a=this.props.searchResult,n=a.id,l=a.name,o=a.area_code;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(en,{editname:this.state.editName,editCode:this.state.editCode,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),an=Object(u.b)()(tn),nn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.searchText,a=this.props.searchFilter,n=this.props.ASearchResults;this.rows=[];var l=0;return n.forEach(function(n){-1!==n[a].indexOf(t)&&(l+=1,e.rows.push(r.a.createElement(an,{sr:l,onUpdate:e.onUpdate,searchResult:n,key:n.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Atbl"},r.a.createElement("table",{id:"Atbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Area_Code"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,this.rows)))}}]),t}(n.Component),rn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(nn,{ASearchResults:a.props.areas,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchLimit:"",searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllAreas").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_AREAS",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement($a,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),ln=Object(u.b)(function(e){return{areas:e.areasReducer}})(rn),on=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(ln,null)}}]),t}(n.Component),cn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleAreaRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value,areaCode:a.refs.areaCode.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewArea",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;e.success?(a.refs.name.value="",a.refs.areaCode.value=""):a.refs.name.focus(),a.refs.msglabel.innerHTML=t,a.props.dispatch(Xa(e.data))}).catch(function(e){return console.log(e)})},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newAHdng"},"Area Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleAreaRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-6 justify-content-center"},r.a.createElement("div",{className:"col-md-10 mb-3"},r.a.createElement("label",{className:"label-A",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. ModelTown",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-10 mb-3"},r.a.createElement("label",{className:"label-A",htmlFor:""},"Area Code"),r.a.createElement("input",{type:"number",className:"form-control",ref:"areaCode",placeholder:"e.g. 34000",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Area Code."))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-A"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"ARegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),sn=Object(u.b)()(cn),dn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(sn,null)}}]),t}(n.Component),mn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Areas")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/areas/home",component:on}),r.a.createElement(U.PropsRoute,{path:"/areas/add",component:dn}),r.a.createElement(U.PropsRoute,{path:"/areas/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/areas/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),un=(a(143),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"Uselect"},r.a.createElement("option",{value:"name"},"Search By Name"),r.a.createElement("option",{value:"email"},"Search By Email"),r.a.createElement("option",{value:"cell"},"Search By Cell"),r.a.createElement("option",{value:"username"},"Search By Username"),r.a.createElement("option",{value:"address"},"Search By Address"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"Usearch-input",ref:"search",placeholder:"Search Users.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"Usearch-button",icon:K.g}))))))}}]),t}(n.Component)),hn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Ubutton-contaner "},r.a.createElement(A.a,{to:"/users/add"}," ",r.a.createElement("button",null,"Add New User")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Ubutton-contaner "},r.a.createElement(A.a,{to:"/users/import"}," ",r.a.createElement("button",null,"Import Users")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Ubutton-contaner "},r.a.createElement(A.a,{to:"/users/export"}," ",r.a.createElement("button",null,"Export Users")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Ubutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/home"}," ",r.a.createElement("button",null,"Roles & Permissions")," "))),r.a.createElement(un,{searchLimit:this.props.searchLimit,searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange,onSearchLimitChange:this.props.onSearchLimitChange}))}}]),t}(n.Component),pn=function(e){return{type:"ADD_USER",payload:e}},bn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.state={roles:"",showRoles:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllRoles").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({roles:t.data,showRoles:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"updateUser",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.email.value,r=this.refs.cell.value,l=this.refs.address.value,o=this.refs.username.value,c=this.refs.password.value,s=this.refs.role.value;this.props.updatedb(a,n,r,l,o,c,s)}}},{key:"render",value:function(){if(this.state.showRoles)var e=this.state.roles.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)});return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit User")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",defaultValue:this.props.editemail,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Phone no."),r.a.createElement("input",{type:"text",className:"form-control",ref:"cell",defaultValue:this.props.editcell,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",defaultValue:this.props.editaddress,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Username"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:this.props.editusername,ref:"username",required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Password"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:this.props.editpassword,ref:"password",required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Role"),r.a.createElement("select",{ref:"role",defaultValue:this.props.editrole,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select Role--"),e))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateUser.bind(this)},"Save")))}}]),t}(n.Component),fn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[9].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML,u=t.cells[5].innerHTML,h=t.cells[6].innerHTML,p=t.cells[7].innerHTML;a.setState({editId:c,editName:s,editEmail:i,editCell:d,editAddress:m,editUsername:u,editPassword:h,editRole:p,modalShow:!0})},a.updatedb=function(e,t,n,r,l,o,c){var s={id:a.state.editId,name:e,email:t,cell:n,address:r,username:l,password:o,role:c},i={method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/updateUser",i).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editUsername:"",editPassword:"",editRole:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:"",editEmail:"",editCell:"",editAddress:"",editUsername:"",editPassword:"",editRole:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Utbl").deleteRow(c);var s={value:a.cells[9].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteUser",i).then(function(e){return e.json()}).then(function(e){t.props.dispatch({type:"REMOVE_USER",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name,o=a.email,c=a.cell,s=a.address,i=a.username,d=a.password,m=a.role_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,d),r.a.createElement("td",null,m),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.i})),r.a.createElement(bn,{editname:this.state.editName,editemail:this.state.editEmail,editcell:this.state.editCell,editaddress:this.state.editAddress,editusername:this.state.editUsername,editpassword:this.state.editPassword,editrole:this.state.editRole,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),En=Object(u.b)()(fn),vn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.USearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(En,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Utbl"},r.a.createElement("table",{id:"Utbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Cell"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Password"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),gn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.callTable=function(){return a.state.showTable?r.a.createElement(vn,{USearchResults:a.props.users,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchLimitChange=a.handleSearchLimitChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllUsers").then(function(e){return e.json()}).then(function(t){e.props.dispatch({type:"SET_USERS",payload:t.data}),e._isMounted&&e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"handleSearchLimitChange",value:function(e){this.setState({searchLimit:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(hn,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),yn=Object(u.b)(function(e){return{users:e.usersReducer}})(gn),Nn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this)))._isMounted=!1,e.state={},e._isMounted=!0,fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(yn,null)}}]),t}(n.Component),jn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.handleUserRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value,email:a.refs.email.value,cell:a.refs.cell.value,address:a.refs.address.value,username:a.refs.username.value,password:a.refs.password.value,role:a.state.selectedRole},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewUser",t).then(function(e){return e.json()}).then(function(e){var t=e.message;e.success?(a.refs.name.value="",a.refs.email.value="",a.refs.cell.value="",a.refs.address.value="",a.refs.username.value="",a.refs.password.value="",a.setState({selectedRole:""})):a.refs.email.focus(),a.props.dispatch(pn(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.state={selectedRole:"",roles:"",showRoles:!1},a.handleRoleChange=a.handleRoleChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllRoles").then(function(e){return e.json()}).then(function(t){e._isMounted&&e.setState({roles:t.data,showRoles:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleRoleChange",value:function(e){this.setState({selectedRole:e.target.value})}},{key:"render",value:function(){if(this.state.showRoles)var e=this.state.roles.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)});return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newUHdng"},"User Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleUserRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. John",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Email"),r.a.createElement("input",{type:"email",className:"form-control",ref:"email",placeholder:"e.g. abc@abc.com",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid email"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Phone no."),r.a.createElement("input",{type:"number",className:"form-control",ref:"cell",placeholder:"e.g. +923011234567",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a cell no..")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Address"),r.a.createElement("input",{type:"text",className:"form-control",ref:"address",placeholder:"e.g. Lahore",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide an address"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Username"),r.a.createElement("input",{type:"text",className:"form-control",ref:"username",placeholder:"e.g. john123",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid username")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Password"),r.a.createElement("input",{type:"password",className:"form-control",ref:"password",placeholder:"e.g. Your Wish",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a password"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Role"),r.a.createElement("select",{value:this.state.selectedRole,onChange:this.handleRoleChange,className:" form-control ",style:{padding:"6px",color:"#783f04",textAlign:"center",fontSize:"17px",fontWeight:"600",border:"1px solid #783f04",borderRadius:"5px"},required:!0},r.a.createElement("option",{value:""},"--Select Role--"),e),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please select an area"))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-U"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"URegisterBtn",type:"submit"},"Register")))))}}]),t}(n.Component),On=Object(u.b)()(jn),Sn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(On,null)}}]),t}(n.Component),Cn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Users")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/users/home",component:Nn}),r.a.createElement(U.PropsRoute,{path:"/users/add",component:Sn}),r.a.createElement(U.PropsRoute,{path:"/users/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/users/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),xn=(a(144),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"RPselect"},r.a.createElement("option",{value:"role"},"Search By Role"),r.a.createElement("option",{value:"permission"},"Search By Permission"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"RPsearch-input",ref:"search",placeholder:"Search Roles' Permissions.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"RPsearch-button",icon:K.g}))))))}}]),t}(n.Component)),wn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/set"}," ",r.a.createElement("button",null,"Set Roles' Permissions")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/r/home"}," ",r.a.createElement("button",null,"Roles")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/p/home"}," ",r.a.createElement("button",null,"Permissions")," "))),r.a.createElement(xn,{searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange}))}}]),t}(n.Component),Tn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.index,t=this.props.searchResult,a=t.role_id,n=t.permission_id;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,e),r.a.createElement("td",null,a),r.a.createElement("td",null,n))}}]),t}(n.Component),Rn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.RPSearchResults,n=[],l=0;console.log(a),console.log(t),console.log(e);for(var o=0;o<a.length;o++){var c=a[o];l+=1,n.push(r.a.createElement(Tn,{index:l,searchResult:c,key:c.id}))}return r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md RPtbl"},r.a.createElement("table",{className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Permissions"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),kn=function(e){return{type:"ADD_RP",payload:e}},Pn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(Rn,{RPSearchResults:a.props.rolesPermissions,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/getAllRolesPermissions").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_ROLES_PERMISSIONS",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(wn,{searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),Fn=Object(u.b)(function(e){return{rolesPermissions:e.RPReducer}})(Pn),In=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Fn,null)}}]),t}(n.Component),Ln=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleRolesPermissions=function(e){e.preventDefault(),""===a.state.selectedRole?(a.refs.msgLbl.innerHTML="please select a Role",a.refs.roleSelect.focus()):(a.refs.msgLbl.innerHTML="",""===a.state.selectedPermission?(a.refs.msgLbl.innerHTML="please select a Permission",a.refs.permissionSelect.focus()):(a.refs.msgLbl.innerHTML="",a.saveToServer()))},a.saveToServer=function(){var e={role:a.state.selectedRole,permission:a.state.selectedPermission},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewRP",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.msg,n=e.roleID,r=e.permissionID;a.props.roles.forEach(function(e){e.id!==n||(n=e.name)}),a.props.permissions.forEach(function(e){e.id!==r||(r=e.name)});var l="Role: "+n+", has been assigned Permission: "+r,o="Role: "+n+", already has Permission: "+r;"created"===t&&(a.refs.msgLbl.innerHTML=l,a.setState({selectedRole:"",selectedPermission:""}),a.refs.roleSelect.state.value.label="",a.refs.permissionSelect.state.value.label="",a.refs.roleSelect.focus()),"existing"===t&&(a.refs.msgLbl.innerHTML=o,a.refs.permissionSelect.focus()),"error"===t&&(a.refs.msgLbl.innerHTML="something went wrong"),a.props.dispatch(kn(e.data))}).catch(function(e){return console.log(e)})},a.state={selectedRole:"",selectedPermission:""},a.handleRoleChange=a.handleRoleChange.bind(Object(I.a)(Object(I.a)(a))),a.handlePermissionChange=a.handlePermissionChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleRoleChange",value:function(e){this.setState({selectedRole:e.value})}},{key:"handlePermissionChange",value:function(e){this.setState({selectedPermission:e.value})}},{key:"render",value:function(){var e=this.props.roles.map(function(e){return{key:e.id,label:e.name,value:e.id}}),t=this.props.permissions.map(function(e){return{key:e.id,label:e.name,value:e.id}});return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement("h1",{style:{border:"none"},ref:this.props.newRPHdng,className:"newRPHdng"},"Roles' Permissions"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleRolesPermissions,method:"POST",ref:this.props.myForm,className:"form-row m-0 justify-content-center "},r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-RP",htmlFor:""},"Role"),r.a.createElement(gt.a,{ref:"roleSelect",options:e,defaultInputValue:this.state.selectedRole,onChange:this.handleRoleChange}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-7 justify-content-center"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-RP",htmlFor:""},"Permission"),r.a.createElement(gt.a,{ref:"permissionSelect",options:t,defaultInputValue:this.state.selectedPermission,onChange:this.handlePermissionChange}))),r.a.createElement("div",{style:{border:"none"},className:"row col-7 justify-content-center"},r.a.createElement("label",{ref:"msgLbl",className:"label-RP"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"RPRegisterBtn",type:"submit"},"Assign"),r.a.createElement("br",null)))))}}]),t}(n.Component),An=Object(u.b)()(Ln),Dn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(An,{roles:this.props.roles,permissions:this.props.permissions})}}]),t}(n.Component),Mn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"RPselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"RPsearch-input",ref:"search",placeholder:"Search Roles.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"RPsearch-button",icon:K.g}))))))}}]),t}(n.Component),Vn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/r/add"}," ",r.a.createElement("button",null,"Add New Role")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/r/import"}," ",r.a.createElement("button",null,"Import Roles")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/r/export"}," ",r.a.createElement("button",null,"Export Roles")," "))),r.a.createElement(Mn,{searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange}))}}]),t}(n.Component),Hn=function(e){return{type:"ADD_ROLE",payload:e}},_n=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateRole",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value;this.props.updatedb(a)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit User Role")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0}))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateRole.bind(this)},"Save")))}}]),t}(n.Component),Bn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[3].innerHTML,s=t.cells[1].innerHTML;a.setState({editId:c,editName:s,modalShow:!0})},a.updatedb=function(e){var t={id:a.state.editId,name:e},n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};fetch("/updateRole",n).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:""},a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("roletbl").deleteRow(c);var s={value:a.cells[3].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteRole",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_ROLE",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(_n,{editname:this.state.editName,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),Un=Object(u.b)()(Bn),Gn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.roleSearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(Un,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md RPtbl"},r.a.createElement("table",{id:"roletbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),qn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(Gn,{roleSearchResults:a.props.roles,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllRoles").then(function(e){return e.json()}).then(function(t){e.props.dispatch({type:"SET_ROLES",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(Vn,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),Wn=Object(u.b)(function(e){return{roles:e.rolesReducer}})(qn),Jn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Wn,null)}}]),t}(n.Component),zn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleRoleRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewRole",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;e.success?a.refs.name.value="":a.refs.name.focus(),a.props.dispatch(Hn(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newRPHdng"},"Role Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleRoleRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-RP",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. admin",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3 align-self-end"},r.a.createElement("button",{style:{padding:"0px",width:"180px"},className:"RPRegisterBtn",type:"submit"},"Register"))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-RP"}))))}}]),t}(n.Component),Yn=Object(u.b)()(zn),Qn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Yn,null)}}]),t}(n.Component),Kn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchLimitChange=function(e){a.props.onSearchLimitChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"RPselect"},r.a.createElement("option",{value:"name"},"Search By Name"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"RPsearch-input",ref:"search",placeholder:"Search Permissions.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"RPsearch-button",icon:K.g}))))))}}]),t}(n.Component),Zn=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/p/add"}," ",r.a.createElement("button",null,"Add New Permission")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/p/import"}," ",r.a.createElement("button",null,"Import Permissions")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  RPbutton-contaner "},r.a.createElement(A.a,{to:"/rolesAndPermissions/p/export"}," ",r.a.createElement("button",null,"Export Permissions")," "))),r.a.createElement(Kn,{searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange}))}}]),t}(n.Component),$n=function(e){return{type:"ADD_PERMISSION",payload:e}},Xn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updatePermission",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value;this.props.updatedb(a)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Role' Permission")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"PUT",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-U",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0}))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updatePermission.bind(this)},"Save")))}}]),t}(n.Component),er=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[3].innerHTML,s=t.cells[1].innerHTML;a.setState({editId:c,editName:s,modalShow:!0})},a.updatedb=function(e){var t={id:a.state.editId,name:e},n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};fetch("/updatePermission",n).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.state={modalShow:!1,editId:"",editName:""},a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("permissiontbl").deleteRow(c);var s={value:a.cells[3].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deletePermission",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_PERMISSION",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.index,a=this.props.searchResult,n=a.id,l=a.name;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,t),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement(Xn,{editname:this.state.editName,show:this.state.modalShow,updatedb:this.updatedb,onHide:function(){e.setState({modalShow:!1})}}),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},n))}}]),t}(n.Component),tr=Object(u.b)()(er),ar=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.permissionSearchResults,n=[],l=0;return a.forEach(function(a){-1!==a[t].indexOf(e)&&(l+=1,n.push(r.a.createElement(tr,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md RPtbl"},r.a.createElement("table",{id:"permissiontbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),nr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).callTable=function(){return a.state.showTable?r.a.createElement(ar,{permissionSearchResults:a.props.permissions,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllPermissions").then(function(e){return e.json()}).then(function(t){console.log(t),e.props.dispatch({type:"SET_PERMISSIONS",payload:t.data}),e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(Zn,{searchLimit:this.state.searchLimit,searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange,onSearchLimitChange:this.handleSearchLimitChange}),this.callTable())}}]),t}(n.Component),rr=Object(u.b)(function(e){return{permissions:e.permissionsReducer}})(nr),lr=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(rr,null)}}]),t}(n.Component),or=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handlePermissionRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewPermission",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;e.success?a.refs.name.value="":a.refs.name.focus(),a.props.dispatch($n(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newRPHdng"},"Permission Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handlePermissionRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{style:{border:"none"},className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-RP",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. admin",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{style:{border:"none"},className:"col-md-6 mb-3 align-self-end"},r.a.createElement("button",{style:{padding:"0px",width:"180px"},className:"RPRegisterBtn ",type:"submit"},"Register"))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-RP"}))))}}]),t}(n.Component),cr=Object(u.b)()(or),sr=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(cr,null)}}]),t}(n.Component),ir=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Roles",r.a.createElement("br",null),"&",r.a.createElement("br",null),"Permissions")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(B.a,{path:"/rolesAndPermissions/home",component:In}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions/set",component:Dn,roles:this.props.roles,permissions:this.props.permissions}),r.a.createElement(B.a,{path:"/rolesAndPermissions/r/home",component:Jn}),r.a.createElement(B.a,{path:"/rolesAndPermissions/r/add",component:Qn}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions/r/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions/r/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(B.a,{path:"/rolesAndPermissions/p/home",component:lr}),r.a.createElement(B.a,{path:"/rolesAndPermissions/p/add",component:sr}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions/p/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions/p/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),dr=Object(u.b)(function(e){return{roles:e.rolesReducer,permissions:e.permissionsReducer}})(ir),mr=(a(145),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()&&t.classList.add("was-validated"),a.handleAddBtnClick()},a.test="",a.state={trType:"Sale",selectedCustomer:"3",selectedProduct:"",selectedRate:"",selectedQTy:"",selectedDiscount:"",showCustomerData:!1,selectedProductName:""},a.handleTrTypeChange=a.handleTrTypeChange.bind(Object(I.a)(Object(I.a)(a))),a.handleCustomerChange=a.handleCustomerChange.bind(Object(I.a)(Object(I.a)(a))),a.handleProductChange=a.handleProductChange.bind(Object(I.a)(Object(I.a)(a))),a.handleRateChange=a.handleRateChange.bind(Object(I.a)(Object(I.a)(a))),a.handleQTYchange=a.handleQTYchange.bind(Object(I.a)(Object(I.a)(a))),a.handleDiscountChange=a.handleDiscountChange.bind(Object(I.a)(Object(I.a)(a))),a.discountedPrice=a.discountedPrice.bind(Object(I.a)(Object(I.a)(a))),a.saveToTable=a.saveToTable.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleTrTypeChange",value:function(e){this.setState({trType:e.target.value})}},{key:"handleCustomerChange",value:function(e){this.setState({selectedCustomer:e.target.value,showCustomerData:!0})}},{key:"handleProductChange",value:function(e){var t=e.target.value;this.setState({selectedProduct:t}),this.setProductRate(t);var a=e.target,n=a.options[a.selectedIndex].innerHTML;this.setState({selectedProductName:n})}},{key:"handleRateChange",value:function(e){this.setState({selectedRate:e.target.value},function(){})}},{key:"handleQTYchange",value:function(e){this.setState({selectedQTy:e.target.value},function(){})}},{key:"handleDiscountChange",value:function(e){this.setState({selectedDiscount:e.target.value},function(){})}},{key:"showCustomerData",value:function(){var e=this,t=this.props.customers.filter(function(t){return t.id==e.state.selectedCustomer}).shift();if(this.state.showCustomerData)return r.a.createElement("div",{style:{border:"none"},className:"col-sm-4 mt-2 p-0 justify-content-center"},r.a.createElement("dl",{className:"m-0 p-0"},r.a.createElement("dt",{style:{display:"inline"}},"Name:"),r.a.createElement("dd",null,t.name),"\xa0",r.a.createElement("dt",{style:{display:"inline"}},"Email:"),r.a.createElement("dd",null,t.email),r.a.createElement("br",null),r.a.createElement("dt",{style:{display:"inline"}},"Phone.no:"),r.a.createElement("dd",null,t.cell),"\xa0",r.a.createElement("dt",{style:{display:"inline"}},"Address:"),r.a.createElement("dd",null,t.address)))}},{key:"setProductRate",value:function(e){var t=this.props.products.filter(function(t){return t.id==e}).shift();this.setState({selectedQTy:"1",selectedDiscount:"0",selectedRate:t.price})}},{key:"IDdefaultvalue",value:function(){var e=this;return fetch("/getLastInvoiceID").then(function(e){return e.json()}).then(function(t){var a=t.data.shift().id;e.test=a+1}).catch(function(e){return console.log(e)}),this.test}},{key:"discountedPrice",value:function(){var e=this.state.selectedRate*this.state.selectedQTy,t=e-this.state.selectedDiscount*e/100;return t}},{key:"handleAddBtnClick",value:function(){var e=this;if("Sale"===this.state.trType){var t=this.state.selectedProductName;fetch("/checkItemQty/"+t).then(function(e){return e.json()}).then(function(a){var n=a.qty;if(e.state.selectedQTy>n)return alert("Maximum Available Qty of "+t+" is: "+n),void e.refs.qty.focus();e.saveToTable()}).catch(function(e){return console.log(e)})}else this.saveToTable()}},{key:"saveToTable",value:function(){var e=this.state.selectedProduct,t=this.state.selectedRate,a=this.state.selectedQTy,n=this.state.selectedDiscount,r=this.refs.price.value;this.props.handleAddButtonClick(e,t,a,n,r),this.setState({selectedProduct:"",selectedQTy:"",selectedRate:"",selectedDiscount:""})}},{key:"render",value:function(){var e=this,t=this.props.customers.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}),a=this.props.products.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)});return r.a.createElement("div",{style:{border:"none"},className:" col-sm-12 m-0 p-0 "},r.a.createElement("form",{style:{border:"none"},onSubmit:this.handleFormSubmit,ref:"myForm",method:"POST",className:"form-row m-0"},r.a.createElement("div",{style:{border:"none"},className:"form-row col-12 m-0 p-0 justify-content-start"},r.a.createElement("select",{value:this.state.trType,onChange:this.handleTrTypeChange,className:" salesSelect align-self-end",style:{width:"85px"}},r.a.createElement("option",{value:"Sale"},"Sales"),r.a.createElement("option",{value:"Return"},"Returns")),r.a.createElement("div",{style:{border:"none"},className:"col-sm-2.5 m-0 p-0 align-self-end"},r.a.createElement("label",{htmlFor:"customerSelect",className:" label-sales"},"Customer:"),r.a.createElement("br",null),r.a.createElement("select",{id:"customerSelect",value:this.state.selectedCustomer,onChange:this.handleCustomerChange,className:"salesSelect",style:{width:"132px"},required:!0},r.a.createElement("option",{value:"",disabled:!0},"--Customer--"),t)),this.showCustomerData()),r.a.createElement("br",null),r.a.createElement("div",{style:{border:"none"},className:"form-row col-12 m-0 "},r.a.createElement("div",{style:{border:"none"},className:"col-md  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"ID:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",ref:this.props.id,value:this.IDdefaultvalue(),className:"sales-input",style:{width:"40px"},disabled:!0})),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"Product:"),r.a.createElement("br",null),r.a.createElement("select",{ref:"product",value:this.state.selectedProduct,onChange:this.handleProductChange,className:"salesSelect",style:{width:"250px"},required:!0},r.a.createElement("option",{value:"",disabled:!0},"--Product--"),a)),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"Rate:"),r.a.createElement("br",null),r.a.createElement("input",{ref:"rate",type:"number",min:"1",value:this.state.selectedRate,onChange:this.handleRateChange,className:"sales-input",style:{width:"75px"},required:!0})),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"QTY:"),r.a.createElement("br",null),r.a.createElement("input",{ref:"qty",type:"number",min:"1",value:this.state.selectedQTy,onChange:this.handleQTYchange,className:"sales-input",style:{width:"75px"},required:!0})),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"Discount%:"),r.a.createElement("br",null),r.a.createElement("input",{ref:"discount",type:"number",min:"0",value:this.state.selectedDiscount,onChange:this.handleDiscountChange,className:"sales-input",style:{width:"75px"},required:!0})),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 p-0"},r.a.createElement("label",{className:"label-sales"},"Price:"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",ref:"price",value:this.discountedPrice(),className:"sales-input",style:{width:"75px"},disabled:!0})),r.a.createElement("div",{style:{border:"none"},className:"col-sm  mb-2 mt-2 p-0 align-self-end"},r.a.createElement("button",{ref:function(t){e.addButton=t},type:"submit",className:"btn btn-info btn-sm",style:{fontWeight:"600",width:"250px",marginBottom:"0px",marginLeft:"5px",marginRight:"5px"}},"Add")))))}}]),t}(n.Component)),ur=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c,s=a.props.products,i=t.cells[1].innerHTML;s.forEach(function(e){i!=e.name||(c=e.id)});var d=t.cells[2].innerHTML,m=t.cells[3].innerHTML,u=t.cells[4].innerHTML,h=t.cells[5].innerHTML,p=t.rowIndex;a.props.EditRow(c,d,m,u,h,p)},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRowfn",value:function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,a=e.target.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode,r=e.target.parentNode,l=e.target;void 0===t.rowIndex&&(t=a),void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l);var o=t.rowIndex,c=t.cells[5].innerHTML;this.props.DeleteRow(c,o)}},{key:"render",value:function(){var e,t=this.props.product_id;this.props.products.forEach(function(a){t!=a.id||(e=a.name)});var a=this.props.rate,n=this.props.qty,l=this.props.discount,o=this.props.price;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,"index"),r.a.createElement("td",null,e),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow.bind(this),type:"button",className:" btn mb-1 btn-dark "},r.a.createElement(Q.a,{icon:K.f})),r.a.createElement("button",{onClick:this.deleteRowfn.bind(this),type:"button",className:" btn btn-dark mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},t))}}]),t}(n.Component),hr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).addArrayToTbl=function(e,t,n,l,o){var c=[];c.push(r.a.createElement(ur,{products:a.props.products,product_id:e,rate:t,qty:n,discount:l,price:o,EditRow:a.props.EditRow,DeleteRow:a.props.DeleteRow,key:e})),a.setState(function(e){return{Rows:[].concat(Object(p.a)(e.Rows),[c])}})},a.state={Rows:[]},a.addArrayToTbl=a.addArrayToTbl.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{overflowY:"auto",display:"block",padding:"9px",textAlign:"center"},ref:"tbl",className:"table-responsive-md salestbl"},r.a.createElement("table",{id:"salestbl",className:"table table-light table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"QTY"),r.a.createElement("th",null,"Discount %"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Edit/Remove"))),r.a.createElement("tbody",null,this.state.Rows)))}}]),t}(n.Component),pr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a.handleSaleSubmit=a.handleSaleSubmit.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSaleSubmit",value:function(e){e.preventDefault(),this.props.handleCheckout()}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-12 m-0 p-0"},r.a.createElement("form",{style:{border:"none"},onSubmit:this.handleSaleSubmit,method:"POST",className:"form-row m-0"},r.a.createElement("div",{style:{border:"none"},className:"form-row col-12 m-0 p-0 justify-content-end"},r.a.createElement("div",{style:{border:"none"},className:"col-md-3 m-0 p-0 "},r.a.createElement("button",{type:"submit",className:"btn btn-info btn-sm",style:{fontWeight:"700",width:"250px",marginRight:"0px"}},this.props.checkoutBtnTxt)))))}}]),t}(n.Component),br=0,fr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).saveSalesToServer=function(e,t,n,r,l,o,c,s){var i={customer:e,product:t,rate:n,qty:r,discount:l,price:o,invoice:c,productName:s},d={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("/addNewSale",d).then(function(e){return e.json()}).then(function(e){var t=e.message;a.msgLabel.innerHTML=t}).catch(function(e){return console.log(e)});var m={method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("/updateSalesItemQty",m).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log(e)})},a.saveReturnsToServer=function(e,t,n,r,l,o,c,s){var i={customer:e,product:t,rate:n,qty:r,discount:l,price:o,invoice:c,productName:s},d={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("/addNewReturn",d).then(function(e){return e.json()}).then(function(e){var t=e.message;a.msgLabel.innerHTML=t}).catch(function(e){return console.log(e)});var m={method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("/updateReturnsItemQty",m).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log(e)})},a.state={customers:"",products:"",showFunctions:!1,showTable:!1,showChekout:!1},a.handleAddButtonClick=a.handleAddButtonClick.bind(Object(I.a)(Object(I.a)(a))),a.EditRow=a.EditRow.bind(Object(I.a)(Object(I.a)(a))),a.DeleteRow=a.DeleteRow.bind(Object(I.a)(Object(I.a)(a))),a.handleCheckout=a.handleCheckout.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/getAllProducts").then(function(e){return e.json()}).then(function(t){P=t.data,e.setState({showTable:!0})}).catch(function(e){return console.log(e)}),fetch("/getAllCustomers").then(function(e){return e.json()}).then(function(t){k=t.data,e.setState({showFunctions:!0})}).catch(function(e){return console.log(e)})}}]),Object(s.a)(t,[{key:"handleAddButtonClick",value:function(e,t,a,n,r){this.msgLabel.innerHTML="",br+=parseInt(r),this.setState({showChekout:!0}),this.refs.tableLayer.addArrayToTbl(e,t,a,n,r)}},{key:"callFunctionLayer",value:function(){var e=this;if(this.state.showFunctions&&this.state.showTable)return r.a.createElement(mr,{ref:"functionLayer",customers:k,products:P,handleAddButtonClick:this.handleAddButtonClick,id:function(t){return e.invoice=t}})}},{key:"EditRow",value:function(e,t,a,n,r,l){this.refs.functionLayer.setState({selectedProduct:e,selectedRate:t,selectedQTy:a,selectedDiscount:n}),br-=r;var o=document.getElementById("salestbl");o.deleteRow(l),1===o.rows.length&&this.setState({showChekout:!1})}},{key:"DeleteRow",value:function(e,t){br-=e;var a=document.getElementById("salestbl");a.deleteRow(t),1===a.rows.length&&this.setState({showChekout:!1})}},{key:"callTableLayer",value:function(){if(this.state.showTable)return r.a.createElement(hr,{EditRow:this.EditRow,DeleteRow:this.DeleteRow,products:P,ref:"tableLayer"})}},{key:"handleCheckout",value:function(){this.setState({showChekout:!1});var e=document.getElementById("salestbl"),t=this.invoice.value,a=this.refs.functionLayer.state.trType,n=this.refs.functionLayer.state.selectedCustomer;if("Sale"!==a)if("Return"!==a);else{for(var r=1;r<e.rows.length;r++){var l=e.rows[r].cells[1].innerHTML,o=e.rows[r].cells[7].innerHTML,c=e.rows[r].cells[2].innerHTML,s=e.rows[r].cells[3].innerHTML,i=e.rows[r].cells[4].innerHTML,d=e.rows[r].cells[5].innerHTML;this.saveReturnsToServer(n,o,c,s,i,d,t,l)}this.saveInvoice(br,a),br-=br;for(var m=e.rows.length-1;m>0;m--)e.deleteRow(m)}else{for(var u=1;u<e.rows.length;u++){var h=e.rows[u].cells[1].innerHTML,p=e.rows[u].cells[7].innerHTML,b=e.rows[u].cells[2].innerHTML,f=e.rows[u].cells[3].innerHTML,E=e.rows[u].cells[4].innerHTML,v=e.rows[u].cells[5].innerHTML;this.saveSalesToServer(n,p,b,f,E,v,t,h)}this.saveInvoice(br,a),br-=br;for(var g=e.rows.length-1;g>0;g--)e.deleteRow(g)}}},{key:"saveInvoice",value:function(e,t){var a={total:e,type:t},n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};fetch("/addNewInvoice",n).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log(e)})}},{key:"callCheckoutLayer",value:function(){if(this.state.showChekout)return r.a.createElement(pr,{handleCheckout:this.handleCheckout,checkoutBtnTxt:this.refs.functionLayer.state.trType})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{float:"right",border:"none"},className:" col-sm-9 m-0 "},this.callFunctionLayer(),this.callTableLayer(),r.a.createElement("div",{style:{border:"none"},className:"col-md-5 mt-2 p-0"},r.a.createElement("label",{className:"label-sales"},"Total:"),r.a.createElement("input",{type:"text",value:br,className:"sales-input",style:{width:"140px"},disabled:!0}),"\xa0\xa0\xa0\xa0 ",r.a.createElement("label",{ref:function(t){e.msgLabel=t},style:{color:"#274e13",fontWeight:"bold"}})),this.callCheckoutLayer())}}]),t}(n.Component),Er=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Sale",r.a.createElement("br",null),"Your",r.a.createElement("br",null),"Products")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"70px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/salesOrReturn/home",component:fr}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,pt:"158px",pb:"159px",class:"col-sm-9"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),vr=(a(146),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleSearchFilterChange=function(e){a.props.onSearchFilterChange(e.target.value)},a.handleSearchTextChange=function(e){a.props.onSearchTextChange(e.target.value)},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchFilter,t=this.props.searchText;return r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("select",{value:e,onChange:this.handleSearchFilterChange,className:"Inventoryselect"},r.a.createElement("option",{value:"name"},"Search By Name"),r.a.createElement("option",{value:"rate"},"Search By Rate"),r.a.createElement("option",{value:"qty"},"Search By Qty"))),r.a.createElement("div",{className:"col-md-2.5 mb-2  "},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:t,onChange:this.handleSearchTextChange,type:"text",className:"Inventorysearch-input",ref:"search",placeholder:"Search Inventory.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{style:{border:"2px solid #783f04",borderLeft:"none",background:"#ddd"},className:"btn ",type:"button",disabled:!0},r.a.createElement(Q.a,{className:"Inventorysearch-button",icon:K.g}))))))}}]),t}(n.Component)),gr=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:"row m-0 "},r.a.createElement("div",{className:"row col-12 m-0 justify-content-center"},r.a.createElement("div",{className:"col-md-2.5 mb-2  Inventorybutton-contaner "},r.a.createElement(A.a,{to:"/inventory/add"}," ",r.a.createElement("button",null,"Add New Item")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Inventorybutton-contaner "},r.a.createElement(A.a,{to:"/inventory/import"}," ",r.a.createElement("button",null,"Import Inventory Items")," ")),r.a.createElement("div",{className:"col-md-2.5 mb-2  Inventorybutton-contaner "},r.a.createElement(A.a,{to:"/inventory/export"}," ",r.a.createElement("button",null,"Export Inventory Items")," "))),r.a.createElement(vr,{searchFilter:this.props.searchFilter,searchText:this.props.searchText,onSearchFilterChange:this.props.onSearchFilterChange,onSearchTextChange:this.props.onSearchTextChange}))}}]),t}(n.Component),yr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleQtyChange=function(e){a.setState({qty:e.target.value})},a.handleRateChange=function(e){a.setState({rate:e.target.value})},a.calculatedPrice=function(){return a.state.rate*a.state.qty},a.state={rate:e.editRate,qty:e.editQty},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateInventory",value:function(e){e.preventDefault();var t=this.refs.myForm;if(!1===t.checkValidity())t.classList.add("was-validated");else{var a=this.refs.name.value,n=this.refs.description.value,r=this.state.rate,l=this.state.qty,o=this.refs.price.value;this.props.updatedb(a,n,r,l,o)}}},{key:"render",value:function(){return r.a.createElement(me.a,{show:!0,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,{id:"contained-modal-title-vcenter"},"Edit Inventory Item")),r.a.createElement(me.a.Body,null,r.a.createElement("form",{style:{border:"none",textAlign:"left"},ref:"myForm",method:"POST",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:this.props.editname,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Description"),r.a.createElement("input",{type:"text",className:"form-control",ref:"description",defaultValue:this.props.editDescription,required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Description"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Rate"),r.a.createElement("input",{type:"number",className:"form-control",ref:"rate",defaultValue:this.state.rate,onChange:this.handleRateChange,required:!0})),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Qty"),r.a.createElement("input",{type:"number",className:"form-control",ref:"qty",defaultValue:this.state.qty,onChange:this.handleQtyChange,required:!0}))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Price"),r.a.createElement("input",{type:"number",className:"form-control",ref:"price",value:this.calculatedPrice(),disabled:!0}))))),r.a.createElement(me.a.Footer,null,r.a.createElement(ue.a,{onClick:this.updateInventory.bind(this)},"Save")))}}]),t}(n.Component),Nr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).editRow=function(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===t.rowIndex&&(t=n),void 0===t.rowIndex&&(t=r),void 0===t.rowIndex&&(t=l),void 0===t.rowIndex&&(t=o);var c=t.cells[7].innerHTML,s=t.cells[1].innerHTML,i=t.cells[2].innerHTML,d=t.cells[3].innerHTML,m=t.cells[4].innerHTML;a.setState({editId:c,editName:s,editDescription:i,editRate:d,editQty:m,modalShow:!0})},a.updatedb=function(e,t,n,r,l){var o={id:a.state.editId,name:e,description:t,rate:n,qty:r,price:l},c={method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}};fetch("/updateInventory",c).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({editId:"",editName:"",editDescription:"",editRate:"",editQty:"",editPrice:"",modalShow:!1})}).catch(function(e){return console.log(e)})},a.callPopUp=function(){return a.state.modalShow?r.a.createElement(yr,{editname:a.state.editName,editDescription:a.state.editDescription,editRate:a.state.editRate,editQty:a.state.editQty,updatedb:a.updatedb,onHide:function(){a.setState({modalShow:!1})}}):null},a.state={modalShow:!1,editId:"",editName:"",editDescription:"",editRate:"",editQty:""},a.deleteRow=a.deleteRow.bind(Object(I.a)(Object(I.a)(a))),a.updatedb=a.updatedb.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteRow",value:function(e){var t=this,a=e.target.parentNode.parentNode.parentNode.parentNode,n=e.target.parentNode.parentNode.parentNode,r=e.target.parentNode.parentNode,l=e.target.parentNode,o=e.target;void 0===a.rowIndex&&(a=n),void 0===a.rowIndex&&(a=r),void 0===a.rowIndex&&(a=l),void 0===a.rowIndex&&(a=o);var c=a.rowIndex;document.getElementById("Inventorytbl").deleteRow(c);var s={id:a.cells[7].innerHTML},i={method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("/deleteInventory",i).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.dispatch({type:"REMOVE_INVENTORY",payload:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.index,t=this.props.searchResult,a=t.id,n=t.name,l=t.description,o=t.rate,c=t.qty,s=t.price;return r.a.createElement("tr",{className:""},r.a.createElement("td",null,e),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("button",{style:{marginRight:"10px"},onClick:this.editRow,type:"button",className:" btn mb-1 btn-light "},r.a.createElement(Q.a,{icon:K.f})),this.callPopUp(),r.a.createElement("button",{onClick:this.deleteRow,type:"button",className:" btn btn-light mb-1"},r.a.createElement(Q.a,{icon:K.h}))),r.a.createElement("td",{style:{display:"none"}},a))}}]),t}(n.Component),jr=Object(u.b)()(Nr),Or=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchText,t=this.props.searchFilter,a=this.props.inventorySearchResults,n=[],l=0;return a.forEach(function(a){var o=a[t];"name"!==t&&(o=o.toString()),-1!==o.indexOf(e)&&(l++,n.push(r.a.createElement(jr,{index:l,searchResult:a,key:a.id})))}),r.a.createElement("div",{style:{overflowY:"auto",display:"block"},ref:"tbl",className:"table-responsive-md Inventorytbl"},r.a.createElement("table",{id:"Inventorytbl",className:"table table-dark table-striped table-bordered table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Edit/Delete"))),r.a.createElement("tbody",null,n)))}}]),t}(n.Component),Sr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e)))._isMounted=!1,a.callTable=function(){return a.state.showTable?r.a.createElement(Or,{inventorySearchResults:a.props.inventory,searchFilter:a.state.searchFilter,searchText:a.state.searchText}):null},a.state={searchFilter:"name",searchText:"",showTable:!1},a.handleSearchFilterChange=a.handleSearchFilterChange.bind(Object(I.a)(Object(I.a)(a))),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this._isMounted=!0,fetch("/getAllInventory").then(function(e){return e.json()}).then(function(t){e.props.dispatch(Pa(t.data)),e._isMounted&&e.setState({showTable:!0})}).catch(function(e){return console.log(e)})}},{key:"componentWillUnmount",value:function(){return this._isMounted=!1,null}}]),Object(s.a)(t,[{key:"handleSearchFilterChange",value:function(e){this.setState({searchFilter:e})}},{key:"handleSearchTextChange",value:function(e){this.setState({searchText:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none"},className:" col-sm-9 m-0 p-0 "},r.a.createElement(gr,{searchFilter:this.state.searchFilter,searchText:this.state.searchText,onSearchFilterChange:this.handleSearchFilterChange,onSearchTextChange:this.handleSearchTextChange}),this.callTable())}}]),t}(n.Component),Cr=Object(u.b)(function(e){return{inventory:e.inventoryReducer}})(Sr),xr=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Cr,null)}}]),t}(n.Component),wr=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleInventoryRegister=function(e){e.preventDefault(),e.stopPropagation();var t=a.refs.myForm;!1===t.checkValidity()?t.classList.add("was-validated"):a.saveToServer()},a.saveToServer=function(){var e={name:a.refs.name.value,description:a.refs.description.value,rate:a.state.rate,qty:a.state.qty,price:a.refs.price.value},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("/addNewInventory",t).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.message;a.refs.name.value="",a.refs.description.value="",a.setState({rate:"",qty:""}),a.props.dispatch(ka(e.data)),a.refs.msglabel.innerHTML=t}).catch(function(e){return console.log(e)})},a.handleRateChange=function(e){a.setState({rate:e.target.value})},a.handleQtyChange=function(e){a.setState({qty:e.target.value})},a.calculatedPrice=function(){return a.state.rate*a.state.qty},a.state={rate:"",qty:""},a.calculatedPrice=a.calculatedPrice.bind(Object(I.a)(Object(I.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{border:"none",textAlign:"center",marginTop:"72px",marginBottom:"72px"},className:" col-sm-9 "},r.a.createElement("h1",{style:{border:"none"},className:"newInventoryHdng"},"Inventory Items Registration"),r.a.createElement("form",{style:{border:"none",textAlign:"left"},onSubmit:this.handleInventoryRegister,method:"POST",ref:"myForm",className:"form-row m-0 justify-content-center ",noValidate:!0},r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Name"),r.a.createElement("input",{type:"text",className:"form-control",ref:"name",placeholder:"e.g. Bat",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Name.")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Description"),r.a.createElement("input",{type:"text",className:"form-control",ref:"description",placeholder:"e.g. Manufactured by Nokia",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a Description"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Rate"),r.a.createElement("input",{type:"number",min:"1",className:"form-control",value:this.state.rate,onChange:this.handleRateChange,ref:"rate",placeholder:"e.g. 1000",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Rate can't be a -ve value")),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Qty."),r.a.createElement("input",{type:"number",min:"1",className:"form-control",value:this.state.qty,onChange:this.handleQtyChange,ref:"qty",placeholder:"e.g. 125",required:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Qty can't be a -ve value"))),r.a.createElement("div",{style:{border:"none"},className:"form-row col-8"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",{className:"label-Inventory",htmlFor:""},"Price"),r.a.createElement("input",{type:"number",className:"form-control",ref:"price",value:this.calculatedPrice(),disabled:!0}),r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),r.a.createElement("div",{className:"invalid-feedback"},"Please provide a valid Price."))),r.a.createElement("div",{style:{border:"none"},className:"row col-8 justify-content-center"},r.a.createElement("label",{ref:"msglabel",className:"label-Inventory"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"form-group col-12"},r.a.createElement("button",{className:"InventoryRegisterBtn",type:"submit"},"Register"),r.a.createElement("br",null)))))}}]),t}(n.Component),Tr=Object(u.b)()(wr),Rr=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(d.a)(t).call(this))).state={},fetch("/isAuth").then(function(e){return e.json()}).then(function(t){e.setState({loggedIn:t.loggedIn})}).catch(function(e){console.log(e)}),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(X.a,{to:"/login"}):r.a.createElement(Tr,null)}}]),t}(n.Component),kr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).rightPaneLabel=function(){return r.a.createElement("label",null,"Your Inventory")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-0",style:{border:"none",backgroundColor:"#999999",marginTop:"72px",marginBottom:"0px",padding:"0px"}},r.a.createElement("div",{style:{border:"none"},className:"row m-0 p-0"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{path:"/inventory/home",component:xr}),r.a.createElement(U.PropsRoute,{path:"/inventory/add",component:Rr}),r.a.createElement(U.PropsRoute,{path:"/inventory/import",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/inventory/export",component:_e,mt:"7px",mb:"7px",pt:"22px",pb:"22px"}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,class:"col-sm-9",pt:"158px",pb:"157px"})),r.a.createElement(Ue,{label:this.rightPaneLabel(),date:this.props.date})))}}]),t}(n.Component),Pr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={date:new Date},a.tick=function(){a.setState({date:new Date})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return r.a.createElement("div",{style:{},className:"container-fluid"},r.a.createElement(_.a,null,r.a.createElement(U.PropsRoute,{exact:!0,path:"/",component:te}),r.a.createElement(U.PropsRoute,{path:"/login",component:le}),r.a.createElement(B.a,{path:"/about",component:q}),r.a.createElement(B.a,{path:"/contact",component:J}),r.a.createElement(B.a,{path:"/home",component:te}),r.a.createElement(U.PropsRoute,{path:"/inventory",component:kr,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/customers",component:qe,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/priceGroups",component:wt,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/drivers",component:Yt,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/routes",component:ba,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/products",component:Ma,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/productCategories",component:Ka,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/areas",component:mn,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/users",component:Cn,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/rolesAndPermissions",component:dr,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/salesOrReturn",component:Er,date:this.state.date}),r.a.createElement(U.PropsRoute,{path:"/",component:Y,pt:"186px",pb:"185px",class:"sol-sm-12"})))}}]),t}(n.Component),Fr=a(62),Ir=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(i.a)(this,Object(d.a)(t).call(this,e)),fetch("/isAuth").then(function(e){return e.json()}).then(function(e){a.setState({loggedIn:e.loggedIn})}).catch(function(e){console.log(e)}),a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.loggedIn&&(document.getElementById("logoutButton").style.display=""),r.a.createElement(u.a,{store:F},r.a.createElement(Fr.a,null,r.a.createElement("div",{style:{backgroundColor:"#999999"}},r.a.createElement(M,{ref:"headerLayer"}),r.a.createElement("hr",{className:"hr1"}),r.a.createElement(B.a,{path:"/",component:Pr}),r.a.createElement("hr",{className:"hr2"}),r.a.createElement(H,null))))}}]),t}(n.Component),Lr=void 0,Ar=["/","/index.html"];window.addEventListener("activate",function(e){return e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if("vansale cache 20"!==e)return console.log("[ServiceWorker] Removing old cache",e),caches.delete(e)}))})),Lr.clients.claim()}),window.addEventListener("install",function(e){return e.waitUntil(caches.open("vansale cache 20").then(function(e){return console.log("[ServiceWorker] Pre-caching offline page"),e.addAll(Ar)})),Lr.skipWaiting()}),window.addEventListener("fetch",function(e){"navigate"===e.request.mode&&e.respondWith(fetch(e.request).catch(function(){return caches.open("vansale cache 20").then(function(e){return e.match("offline.html")})}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(147);o.a.render(r.a.createElement(Ir,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){},53:function(e,t,a){},77:function(e,t){},92:function(e,t,a){e.exports=a(148)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.4ade2630.chunk.js.map